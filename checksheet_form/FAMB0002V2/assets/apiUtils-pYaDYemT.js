import{R as Z,j as e,r as D,u as Pe,a as kt}from"./index-lfZkWuoh.js";var $e=t=>t.type==="checkbox",De=t=>t instanceof Date,me=t=>t==null;const Vt=t=>typeof t=="object";var ie=t=>!me(t)&&!Array.isArray(t)&&Vt(t)&&!De(t),St=t=>ie(t)&&t.target?$e(t.target)?t.target.checked:t.target.value:t,Kt=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Ct=(t,l)=>t.has(Kt(l)),Wt=t=>{const l=t.constructor&&t.constructor.prototype;return ie(l)&&l.hasOwnProperty("isPrototypeOf")},Qe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function le(t){if(t instanceof Date)return new Date(t);const l=typeof FileList<"u"&&t instanceof FileList;if(Qe&&(t instanceof Blob||l))return t;const r=Array.isArray(t);if(!r&&!(ie(t)&&Wt(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const d in t)Object.prototype.hasOwnProperty.call(t,d)&&(n[d]=le(t[d]));return n}var Oe=t=>/^\w*$/.test(t),ne=t=>t===void 0,Je=t=>Array.isArray(t)?t.filter(Boolean):[],et=t=>Je(t.replace(/["|']|\]/g,"").split(/\.|\[/)),U=(t,l,r)=>{if(!l||!ie(t))return r;const n=(Oe(l)?[l]:et(l)).reduce((d,s)=>me(d)?d:d[s],t);return ne(n)||n===t?ne(t[l])?r:t[l]:n},he=t=>typeof t=="boolean",xe=t=>typeof t=="function",se=(t,l,r)=>{let n=-1;const d=Oe(l)?[l]:et(l),s=d.length,f=s-1;for(;++n<s;){const x=d[n];let j=r;if(n!==f){const C=t[x];j=ie(C)||Array.isArray(C)?C:isNaN(+d[n+1])?{}:[]}if(x==="__proto__"||x==="constructor"||x==="prototype")return;t[x]=j,t=t[x]}};const Be={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},je={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},we={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tt=Z.createContext(null);tt.displayName="HookFormContext";const Le=()=>Z.useContext(tt),br=t=>{const{children:l,...r}=t;return Z.createElement(tt.Provider,{value:r},l)};var Dt=(t,l,r,n=!0)=>{const d={defaultValues:l._defaultValues};for(const s in t)Object.defineProperty(d,s,{get:()=>{const f=s;return l._proxyFormState[f]!==je.all&&(l._proxyFormState[f]=!n||je.all),r&&(r[f]=!0),t[f]}});return d};const rt=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function Ut(t){const l=Le(),{control:r=l.control,disabled:n,name:d,exact:s}=t||{},[f,x]=Z.useState(r._formState),j=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return rt(()=>r._subscribe({name:d,formState:j.current,exact:s,callback:C=>{!n&&x({...r._formState,...C})}}),[d,n,s]),Z.useEffect(()=>{j.current.isValid&&r._setValid(!0)},[r]),Z.useMemo(()=>Dt(f,r,j.current,!1),[f,r])}var be=t=>typeof t=="string",Ge=(t,l,r,n,d)=>be(t)?(n&&l.watch.add(t),U(r,t,d)):Array.isArray(t)?t.map(s=>(n&&l.watch.add(s),U(r,s))):(n&&(l.watchAll=!0),r),Xe=t=>me(t)||!Vt(t);function Ne(t,l,r=new WeakSet){if(Xe(t)||Xe(l))return Object.is(t,l);if(De(t)&&De(l))return Object.is(t.getTime(),l.getTime());const n=Object.keys(t),d=Object.keys(l);if(n.length!==d.length)return!1;if(r.has(t)||r.has(l))return!0;r.add(t),r.add(l);for(const s of n){const f=t[s];if(!d.includes(s))return!1;if(s!=="ref"){const x=l[s];if(De(f)&&De(x)||ie(f)&&ie(x)||Array.isArray(f)&&Array.isArray(x)?!Ne(f,x,r):!Object.is(f,x))return!1}}return!0}function Ht(t){const l=Le(),{control:r=l.control,name:n,defaultValue:d,disabled:s,exact:f,compute:x}=t||{},j=Z.useRef(d),C=Z.useRef(x),R=Z.useRef(void 0),w=Z.useRef(r),F=Z.useRef(n);C.current=x;const[A,I]=Z.useState(()=>{const T=r._getWatch(n,j.current);return C.current?C.current(T):T}),E=Z.useCallback(T=>{const P=Ge(n,r._names,T||r._formValues,!1,j.current);return C.current?C.current(P):P},[r._formValues,r._names,n]),_=Z.useCallback(T=>{if(!s){const P=Ge(n,r._names,T||r._formValues,!1,j.current);if(C.current){const y=C.current(P);Ne(y,R.current)||(I(y),R.current=y)}else I(P)}},[r._formValues,r._names,s,n]);rt(()=>((w.current!==r||!Ne(F.current,n))&&(w.current=r,F.current=n,_()),r._subscribe({name:n,formState:{values:!0},exact:f,callback:T=>{_(T.values)}})),[r,f,n,_]),Z.useEffect(()=>r._removeUnmounted());const B=w.current!==r,$=F.current,L=Z.useMemo(()=>{if(s)return null;const T=!B&&!Ne($,n);return B||T?E():null},[s,B,n,$,E]);return L!==null?L:A}function qt(t){const l=Le(),{name:r,disabled:n,control:d=l.control,shouldUnregister:s,defaultValue:f,exact:x=!0}=t,j=Ct(d._names.array,r),C=Z.useMemo(()=>U(d._formValues,r,U(d._defaultValues,r,f)),[d,r,f]),R=Ht({control:d,name:r,defaultValue:C,exact:x}),w=Ut({control:d,name:r,exact:x}),F=Z.useRef(t),A=Z.useRef(void 0),I=Z.useRef(d.register(r,{...t.rules,value:R,...he(t.disabled)?{disabled:t.disabled}:{}}));F.current=t;const E=Z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!U(w.errors,r)},isDirty:{enumerable:!0,get:()=>!!U(w.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!U(w.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!U(w.validatingFields,r)},error:{enumerable:!0,get:()=>U(w.errors,r)}}),[w,r]),_=Z.useCallback(T=>I.current.onChange({target:{value:St(T),name:r},type:Be.CHANGE}),[r]),B=Z.useCallback(()=>I.current.onBlur({target:{value:U(d._formValues,r),name:r},type:Be.BLUR}),[r,d._formValues]),$=Z.useCallback(T=>{const P=U(d._fields,r);P&&P._f&&T&&(P._f.ref={focus:()=>xe(T.focus)&&T.focus(),select:()=>xe(T.select)&&T.select(),setCustomValidity:y=>xe(T.setCustomValidity)&&T.setCustomValidity(y),reportValidity:()=>xe(T.reportValidity)&&T.reportValidity()})},[d._fields,r]),L=Z.useMemo(()=>({name:r,value:R,...he(n)||w.disabled?{disabled:w.disabled||n}:{},onChange:_,onBlur:B,ref:$}),[r,n,w.disabled,_,B,$,R]);return Z.useEffect(()=>{const T=d._options.shouldUnregister||s,P=A.current;P&&P!==r&&!j&&d.unregister(P),d.register(r,{...F.current.rules,...he(F.current.disabled)?{disabled:F.current.disabled}:{}});const y=(p,N)=>{const v=U(d._fields,p);v&&v._f&&(v._f.mount=N)};if(y(r,!0),T){const p=le(U(d._options.defaultValues,r,F.current.defaultValue));se(d._defaultValues,r,p),ne(U(d._formValues,r))&&se(d._formValues,r,p)}return!j&&d.register(r),A.current=r,()=>{(j?T&&!d._state.action:T)?d.unregister(r):y(r,!1)}},[r,d,j,s]),Z.useEffect(()=>{d._setDisabledField({disabled:n,name:r})},[n,r,d]),Z.useMemo(()=>({field:L,formState:w,fieldState:E}),[L,w,E])}const pr=t=>t.render(qt(t));var Yt=(t,l,r,n,d)=>l?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:d||!0}}:{},Re=t=>Array.isArray(t)?t:[t],ft=()=>{let t=[];return{get observers(){return t},next:d=>{for(const s of t)s.next&&s.next(d)},subscribe:d=>(t.push(d),{unsubscribe:()=>{t=t.filter(s=>s!==d)}}),unsubscribe:()=>{t=[]}}};function Ft(t,l){const r={};for(const n in t)if(t.hasOwnProperty(n)){const d=t[n],s=l[n];if(d&&ie(d)&&s){const f=Ft(d,s);ie(f)&&(r[n]=f)}else t[n]&&(r[n]=s)}return r}var ue=t=>ie(t)&&!Object.keys(t).length,st=t=>t.type==="file",_e=t=>{if(!Qe)return!1;const l=t?t.ownerDocument:0;return t instanceof(l&&l.defaultView?l.defaultView.HTMLElement:HTMLElement)},At=t=>t.type==="select-multiple",nt=t=>t.type==="radio",Gt=t=>nt(t)||$e(t),He=t=>_e(t)&&t.isConnected;function Xt(t,l){const r=l.slice(0,-1).length;let n=0;for(;n<r;)t=ne(t)?n++:t[l[n++]];return t}function zt(t){for(const l in t)if(t.hasOwnProperty(l)&&!ne(t[l]))return!1;return!0}function ae(t,l){const r=Array.isArray(l)?l:Oe(l)?[l]:et(l),n=r.length===1?t:Xt(t,r),d=r.length-1,s=r[d];return n&&delete n[s],d!==0&&(ie(n)&&ue(n)||Array.isArray(n)&&zt(n))&&ae(t,r.slice(0,-1)),t}var Zt=t=>{for(const l in t)if(xe(t[l]))return!0;return!1};function Et(t){return Array.isArray(t)||ie(t)&&!Zt(t)}function ze(t,l={}){for(const r in t){const n=t[r];Et(n)?(l[r]=Array.isArray(n)?[]:{},ze(n,l[r])):ne(n)||(l[r]=!0)}return l}function Ae(t,l,r){r||(r=ze(l));for(const n in t){const d=t[n];if(Et(d))ne(l)||Xe(r[n])?r[n]=ze(d,Array.isArray(d)?[]:{}):Ae(d,me(l)?{}:l[n],r[n]);else{const s=l[n];r[n]=!Ne(d,s)}}return r}const mt={value:!1,isValid:!1},ht={value:!0,isValid:!0};var Rt=t=>{if(Array.isArray(t)){if(t.length>1){const l=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:l,isValid:!!l.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ne(t[0].attributes.value)?ne(t[0].value)||t[0].value===""?ht:{value:t[0].value,isValid:!0}:ht:mt}return mt},Mt=(t,{valueAsNumber:l,valueAsDate:r,setValueAs:n})=>ne(t)?t:l?t===""?NaN:t&&+t:r&&be(t)?new Date(t):n?n(t):t;const bt={isValid:!1,value:null};var $t=t=>Array.isArray(t)?t.reduce((l,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:l,bt):bt;function pt(t){const l=t.ref;return st(l)?l.files:nt(l)?$t(t.refs).value:At(l)?[...l.selectedOptions].map(({value:r})=>r):$e(l)?Rt(t.refs).value:Mt(ne(l.value)?t.ref.value:l.value,t)}var Qt=(t,l,r,n)=>{const d={};for(const s of t){const f=U(l,s);f&&se(d,s,f._f)}return{criteriaMode:r,names:[...t],fields:d,shouldUseNativeValidation:n}},Ie=t=>t instanceof RegExp,Ee=t=>ne(t)?t:Ie(t)?t.source:ie(t)?Ie(t.value)?t.value.source:t.value:t,gt=t=>({isOnSubmit:!t||t===je.onSubmit,isOnBlur:t===je.onBlur,isOnChange:t===je.onChange,isOnAll:t===je.all,isOnTouch:t===je.onTouched});const yt="AsyncFunction";var Jt=t=>!!t&&!!t.validate&&!!(xe(t.validate)&&t.validate.constructor.name===yt||ie(t.validate)&&Object.values(t.validate).find(l=>l.constructor.name===yt)),er=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),jt=(t,l,r)=>!r&&(l.watchAll||l.watch.has(t)||[...l.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Me=(t,l,r,n)=>{for(const d of r||Object.keys(t)){const s=U(t,d);if(s){const{_f:f,...x}=s;if(f){if(f.refs&&f.refs[0]&&l(f.refs[0],d)&&!n)return!0;if(f.ref&&l(f.ref,f.name)&&!n)return!0;if(Me(x,l))break}else if(ie(x)&&Me(x,l))break}}};function Nt(t,l,r){const n=U(t,r);if(n||Oe(r))return{error:n,name:r};const d=r.split(".");for(;d.length;){const s=d.join("."),f=U(l,s),x=U(t,s);if(f&&!Array.isArray(f)&&r!==s)return{name:r};if(x&&x.type)return{name:s,error:x};if(x&&x.root&&x.root.type)return{name:`${s}.root`,error:x.root};d.pop()}return{name:r}}var tr=(t,l,r,n)=>{r(t);const{name:d,...s}=t;return ue(s)||Object.keys(s).length>=Object.keys(l).length||Object.keys(s).find(f=>l[f]===(!n||je.all))},rr=(t,l,r)=>!t||!l||t===l||Re(t).some(n=>n&&(r?n===l:n.startsWith(l)||l.startsWith(n))),sr=(t,l,r,n,d)=>d.isOnAll?!1:!r&&d.isOnTouch?!(l||t):(r?n.isOnBlur:d.isOnBlur)?!t:(r?n.isOnChange:d.isOnChange)?t:!0,nr=(t,l)=>!Je(U(t,l)).length&&ae(t,l),lr=(t,l,r)=>{const n=Re(U(t,r));return se(n,"root",l[r]),se(t,r,n),t};function vt(t,l,r="validate"){if(be(t)||Array.isArray(t)&&t.every(be)||he(t)&&!t)return{type:r,message:be(t)?t:"",ref:l}}var Fe=t=>ie(t)&&!Ie(t)?t:{value:t,message:""},wt=async(t,l,r,n,d,s)=>{const{ref:f,refs:x,required:j,maxLength:C,minLength:R,min:w,max:F,pattern:A,validate:I,name:E,valueAsNumber:_,mount:B}=t._f,$=U(r,E);if(!B||l.has(E))return{};const L=x?x[0]:f,T=c=>{d&&L.reportValidity&&(L.setCustomValidity(he(c)?"":c||""),L.reportValidity())},P={},y=nt(f),p=$e(f),N=y||p,v=(_||st(f))&&ne(f.value)&&ne($)||_e(f)&&f.value===""||$===""||Array.isArray($)&&!$.length,k=Yt.bind(null,E,n,P),m=(c,i,u,a=we.maxLength,o=we.minLength)=>{const h=c?i:u;P[E]={type:c?a:o,message:h,ref:f,...k(c?a:o,h)}};if(s?!Array.isArray($)||!$.length:j&&(!N&&(v||me($))||he($)&&!$||p&&!Rt(x).isValid||y&&!$t(x).isValid)){const{value:c,message:i}=be(j)?{value:!!j,message:j}:Fe(j);if(c&&(P[E]={type:we.required,message:i,ref:L,...k(we.required,i)},!n))return T(i),P}if(!v&&(!me(w)||!me(F))){let c,i;const u=Fe(F),a=Fe(w);if(!me($)&&!isNaN($)){const o=f.valueAsNumber||$&&+$;me(u.value)||(c=o>u.value),me(a.value)||(i=o<a.value)}else{const o=f.valueAsDate||new Date($),h=O=>new Date(new Date().toDateString()+" "+O),g=f.type=="time",V=f.type=="week";be(u.value)&&$&&(c=g?h($)>h(u.value):V?$>u.value:o>new Date(u.value)),be(a.value)&&$&&(i=g?h($)<h(a.value):V?$<a.value:o<new Date(a.value))}if((c||i)&&(m(!!c,u.message,a.message,we.max,we.min),!n))return T(P[E].message),P}if((C||R)&&!v&&(be($)||s&&Array.isArray($))){const c=Fe(C),i=Fe(R),u=!me(c.value)&&$.length>+c.value,a=!me(i.value)&&$.length<+i.value;if((u||a)&&(m(u,c.message,i.message),!n))return T(P[E].message),P}if(A&&!v&&be($)){const{value:c,message:i}=Fe(A);if(Ie(c)&&!$.match(c)&&(P[E]={type:we.pattern,message:i,ref:f,...k(we.pattern,i)},!n))return T(i),P}if(I){if(xe(I)){const c=await I($,r),i=vt(c,L);if(i&&(P[E]={...i,...k(we.validate,i.message)},!n))return T(i.message),P}else if(ie(I)){let c={};for(const i in I){if(!ue(c)&&!n)break;const u=vt(await I[i]($,r),L,i);u&&(c={...u,...k(i,u.message)},T(u.message),n&&(P[E]=c))}if(!ue(c)&&(P[E]={ref:L,...c},!n))return P}}return T(!0),P};const ar={mode:je.onSubmit,reValidateMode:je.onChange,shouldFocusError:!0};function ir(t={}){let l={...ar,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:xe(l.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:l.errors||{},disabled:l.disabled||!1},n={},d=ie(l.defaultValues)||ie(l.values)?le(l.defaultValues||l.values)||{}:{},s=l.shouldUnregister?{}:le(d),f={action:!1,mount:!1,watch:!1,keepIsValid:!1},x={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},j,C=0;const R={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={...R};let F={...w};const A={array:ft(),state:ft()},I=l.criteriaMode===je.all,E=b=>S=>{clearTimeout(C),C=setTimeout(b,S)},_=async b=>{if(!f.keepIsValid&&!l.disabled&&(w.isValid||F.isValid||b)){let S;l.resolver?(S=ue((await N()).errors),B()):S=await k(n,!0),S!==r.isValid&&A.state.next({isValid:S})}},B=(b,S)=>{!l.disabled&&(w.isValidating||w.validatingFields||F.isValidating||F.validatingFields)&&((b||Array.from(x.mount)).forEach(M=>{M&&(S?se(r.validatingFields,M,S):ae(r.validatingFields,M))}),A.state.next({validatingFields:r.validatingFields,isValidating:!ue(r.validatingFields)}))},$=(b,S=[],M,H,W=!0,K=!0)=>{if(H&&M&&!l.disabled){if(f.action=!0,K&&Array.isArray(U(n,b))){const Y=M(U(n,b),H.argA,H.argB);W&&se(n,b,Y)}if(K&&Array.isArray(U(r.errors,b))){const Y=M(U(r.errors,b),H.argA,H.argB);W&&se(r.errors,b,Y),nr(r.errors,b)}if((w.touchedFields||F.touchedFields)&&K&&Array.isArray(U(r.touchedFields,b))){const Y=M(U(r.touchedFields,b),H.argA,H.argB);W&&se(r.touchedFields,b,Y)}(w.dirtyFields||F.dirtyFields)&&(r.dirtyFields=Ae(d,s)),A.state.next({name:b,isDirty:c(b,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else se(s,b,S)},L=(b,S)=>{se(r.errors,b,S),A.state.next({errors:r.errors})},T=b=>{r.errors=b,A.state.next({errors:r.errors,isValid:!1})},P=(b,S,M,H)=>{const W=U(n,b);if(W){const K=U(s,b,ne(M)?U(d,b):M);ne(K)||H&&H.defaultChecked||S?se(s,b,S?K:pt(W._f)):a(b,K),f.mount&&!f.action&&_()}},y=(b,S,M,H,W)=>{let K=!1,Y=!1;const te={name:b};if(!l.disabled){if(!M||H){(w.isDirty||F.isDirty)&&(Y=r.isDirty,r.isDirty=te.isDirty=c(),K=Y!==te.isDirty);const re=Ne(U(d,b),S);Y=!!U(r.dirtyFields,b),re?ae(r.dirtyFields,b):se(r.dirtyFields,b,!0),te.dirtyFields=r.dirtyFields,K=K||(w.dirtyFields||F.dirtyFields)&&Y!==!re}if(M){const re=U(r.touchedFields,b);re||(se(r.touchedFields,b,M),te.touchedFields=r.touchedFields,K=K||(w.touchedFields||F.touchedFields)&&re!==M)}K&&W&&A.state.next(te)}return K?te:{}},p=(b,S,M,H)=>{const W=U(r.errors,b),K=(w.isValid||F.isValid)&&he(S)&&r.isValid!==S;if(l.delayError&&M?(j=E(()=>L(b,M)),j(l.delayError)):(clearTimeout(C),j=null,M?se(r.errors,b,M):ae(r.errors,b)),(M?!Ne(W,M):W)||!ue(H)||K){const Y={...H,...K&&he(S)?{isValid:S}:{},errors:r.errors,name:b};r={...r,...Y},A.state.next(Y)}},N=async b=>(B(b,!0),await l.resolver(s,l.context,Qt(b||x.mount,n,l.criteriaMode,l.shouldUseNativeValidation))),v=async b=>{const{errors:S}=await N(b);if(B(b),b)for(const M of b){const H=U(S,M);H?se(r.errors,M,H):ae(r.errors,M)}else r.errors=S;return S},k=async(b,S,M={valid:!0})=>{for(const H in b){const W=b[H];if(W){const{_f:K,...Y}=W;if(K){const te=x.array.has(K.name),re=W._f&&Jt(W._f);re&&w.validatingFields&&B([K.name],!0);const de=await wt(W,x.disabled,s,I,l.shouldUseNativeValidation&&!S,te);if(re&&w.validatingFields&&B([K.name]),de[K.name]&&(M.valid=!1,S||t.shouldUseNativeValidation))break;!S&&(U(de,K.name)?te?lr(r.errors,de,K.name):se(r.errors,K.name,de[K.name]):ae(r.errors,K.name))}!ue(Y)&&await k(Y,S,M)}}return M.valid},m=()=>{for(const b of x.unMount){const S=U(n,b);S&&(S._f.refs?S._f.refs.every(M=>!He(M)):!He(S._f.ref))&&q(b)}x.unMount=new Set},c=(b,S)=>!l.disabled&&(b&&S&&se(s,b,S),!Ne(z(),d)),i=(b,S,M)=>Ge(b,x,{...f.mount?s:ne(S)?d:be(b)?{[b]:S}:S},M,S),u=b=>Je(U(f.mount?s:d,b,l.shouldUnregister?U(d,b,[]):[])),a=(b,S,M={})=>{const H=U(n,b);let W=S;if(H){const K=H._f;K&&(!K.disabled&&se(s,b,Mt(S,K)),W=_e(K.ref)&&me(S)?"":S,At(K.ref)?[...K.ref.options].forEach(Y=>Y.selected=W.includes(Y.value)):K.refs?$e(K.ref)?K.refs.forEach(Y=>{(!Y.defaultChecked||!Y.disabled)&&(Array.isArray(W)?Y.checked=!!W.find(te=>te===Y.value):Y.checked=W===Y.value||!!W)}):K.refs.forEach(Y=>Y.checked=Y.value===W):st(K.ref)?K.ref.value="":(K.ref.value=W,K.ref.type||A.state.next({name:b,values:le(s)})))}(M.shouldDirty||M.shouldTouch)&&y(b,W,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&O(b)},o=(b,S,M)=>{for(const H in S){if(!S.hasOwnProperty(H))return;const W=S[H],K=b+"."+H,Y=U(n,K);(x.array.has(b)||ie(W)||Y&&!Y._f)&&!De(W)?o(K,W,M):a(K,W,M)}},h=(b,S,M={})=>{const H=U(n,b),W=x.array.has(b),K=le(S);se(s,b,K),W?(A.array.next({name:b,values:le(s)}),(w.isDirty||w.dirtyFields||F.isDirty||F.dirtyFields)&&M.shouldDirty&&A.state.next({name:b,dirtyFields:Ae(d,s),isDirty:c(b,K)})):H&&!H._f&&!me(K)?o(b,K,M):a(b,K,M),jt(b,x)?A.state.next({...r,name:b,values:le(s)}):A.state.next({name:f.mount?b:void 0,values:le(s)})},g=async b=>{f.mount=!0;const S=b.target;let M=S.name,H=!0;const W=U(n,M),K=re=>{H=Number.isNaN(re)||De(re)&&isNaN(re.getTime())||Ne(re,U(s,M,re))},Y=gt(l.mode),te=gt(l.reValidateMode);if(W){let re,de;const Ce=S.type?pt(W._f):St(b),ke=b.type===Be.BLUR||b.type===Be.FOCUS_OUT,Pt=!er(W._f)&&!l.resolver&&!U(r.errors,M)&&!W._f.deps||sr(ke,U(r.touchedFields,M),r.isSubmitted,te,Y),We=jt(M,x,ke);se(s,M,Ce),ke?(!S||!S.readOnly)&&(W._f.onBlur&&W._f.onBlur(b),j&&j(0)):W._f.onChange&&W._f.onChange(b);const Ue=y(M,Ce,ke),Ot=!ue(Ue)||We;if(!ke&&A.state.next({name:M,type:b.type,values:le(s)}),Pt)return(w.isValid||F.isValid)&&(l.mode==="onBlur"?ke&&_():ke||_()),Ot&&A.state.next({name:M,...We?{}:Ue});if(!ke&&We&&A.state.next({...r}),l.resolver){const{errors:ut}=await N([M]);if(B([M]),K(Ce),H){const Lt=Nt(r.errors,n,M),xt=Nt(ut,n,Lt.name||M);re=xt.error,M=xt.name,de=ue(ut)}}else B([M],!0),re=(await wt(W,x.disabled,s,I,l.shouldUseNativeValidation))[M],B([M]),K(Ce),H&&(re?de=!1:(w.isValid||F.isValid)&&(de=await k(n,!0)));H&&(W._f.deps&&(!Array.isArray(W._f.deps)||W._f.deps.length>0)&&O(W._f.deps),p(M,de,re,Ue))}},V=(b,S)=>{if(U(r.errors,S)&&b.focus)return b.focus(),1},O=async(b,S={})=>{let M,H;const W=Re(b);if(l.resolver){const K=await v(ne(b)?b:W);M=ue(K),H=b?!W.some(Y=>U(K,Y)):M}else b?(H=(await Promise.all(W.map(async K=>{const Y=U(n,K);return await k(Y&&Y._f?{[K]:Y}:Y)}))).every(Boolean),!(!H&&!r.isValid)&&_()):H=M=await k(n);return A.state.next({...!be(b)||(w.isValid||F.isValid)&&M!==r.isValid?{}:{name:b},...l.resolver||!b?{isValid:M}:{},errors:r.errors}),S.shouldFocus&&!H&&Me(n,V,b?W:x.mount),H},z=(b,S)=>{let M={...f.mount?s:d};return S&&(M=Ft(S.dirtyFields?r.dirtyFields:r.touchedFields,M)),ne(b)?M:be(b)?U(M,b):b.map(H=>U(M,H))},ce=(b,S)=>({invalid:!!U((S||r).errors,b),isDirty:!!U((S||r).dirtyFields,b),error:U((S||r).errors,b),isValidating:!!U(r.validatingFields,b),isTouched:!!U((S||r).touchedFields,b)}),Ke=b=>{b&&Re(b).forEach(S=>ae(r.errors,S)),A.state.next({errors:b?r.errors:{}})},ve=(b,S,M)=>{const H=(U(n,b,{_f:{}})._f||{}).ref,W=U(r.errors,b)||{},{ref:K,message:Y,type:te,...re}=W;se(r.errors,b,{...re,...S,ref:H}),A.state.next({name:b,errors:r.errors,isValid:!1}),M&&M.shouldFocus&&H&&H.focus&&H.focus()},ge=(b,S)=>xe(b)?A.state.subscribe({next:M=>"values"in M&&b(i(void 0,S),M)}):i(b,S,!0),Ve=b=>A.state.subscribe({next:S=>{rr(b.name,S.name,b.exact)&&tr(S,b.formState||w,Tt,b.reRenderRoot)&&b.callback({values:{...s},...r,...S,defaultValues:d})}}).unsubscribe,X=b=>(f.mount=!0,F={...F,...b.formState},Ve({...b,formState:{...R,...b.formState}})),q=(b,S={})=>{for(const M of b?Re(b):x.mount)x.mount.delete(M),x.array.delete(M),S.keepValue||(ae(n,M),ae(s,M)),!S.keepError&&ae(r.errors,M),!S.keepDirty&&ae(r.dirtyFields,M),!S.keepTouched&&ae(r.touchedFields,M),!S.keepIsValidating&&ae(r.validatingFields,M),!l.shouldUnregister&&!S.keepDefaultValue&&ae(d,M);A.state.next({values:le(s)}),A.state.next({...r,...S.keepDirty?{isDirty:c()}:{}}),!S.keepIsValid&&_()},Q=({disabled:b,name:S})=>{(he(b)&&f.mount||b||x.disabled.has(S))&&(b?x.disabled.add(S):x.disabled.delete(S))},ee=(b,S={})=>{let M=U(n,b);const H=he(S.disabled)||he(l.disabled);return se(n,b,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:b}},name:b,mount:!0,...S}}),x.mount.add(b),M?Q({disabled:he(S.disabled)?S.disabled:l.disabled,name:b}):P(b,!0,S.value),{...H?{disabled:S.disabled||l.disabled}:{},...l.progressive?{required:!!S.required,min:Ee(S.min),max:Ee(S.max),minLength:Ee(S.minLength),maxLength:Ee(S.maxLength),pattern:Ee(S.pattern)}:{},name:b,onChange:g,onBlur:g,ref:W=>{if(W){ee(b,S),M=U(n,b);const K=ne(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,Y=Gt(K),te=M._f.refs||[];if(Y?te.find(re=>re===K):K===M._f.ref)return;se(n,b,{_f:{...M._f,...Y?{refs:[...te.filter(He),K,...Array.isArray(U(d,b))?[{}]:[]],ref:{type:K.type,name:b}}:{ref:K}}}),P(b,!1,void 0,K)}else M=U(n,b,{}),M._f&&(M._f.mount=!1),(l.shouldUnregister||S.shouldUnregister)&&!(Ct(x.array,b)&&f.action)&&x.unMount.add(b)}}},J=()=>l.shouldFocusError&&Me(n,V,x.mount),Se=b=>{he(b)&&(A.state.next({disabled:b}),Me(n,(S,M)=>{const H=U(n,M);H&&(S.disabled=H._f.disabled||b,Array.isArray(H._f.refs)&&H._f.refs.forEach(W=>{W.disabled=H._f.disabled||b}))},0,!1))},it=(b,S)=>async M=>{let H;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let W=le(s);if(A.state.next({isSubmitting:!0}),l.resolver){const{errors:K,values:Y}=await N();B(),r.errors=K,W=le(Y)}else await k(n);if(x.disabled.size)for(const K of x.disabled)ae(W,K);if(ae(r.errors,"root"),ue(r.errors)){A.state.next({errors:{}});try{await b(W,M)}catch(K){H=K}}else S&&await S({...r.errors},M),J(),setTimeout(J);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ue(r.errors)&&!H,submitCount:r.submitCount+1,errors:r.errors}),H)throw H},_t=(b,S={})=>{U(n,b)&&(ne(S.defaultValue)?h(b,le(U(d,b))):(h(b,S.defaultValue),se(d,b,le(S.defaultValue))),S.keepTouched||ae(r.touchedFields,b),S.keepDirty||(ae(r.dirtyFields,b),r.isDirty=S.defaultValue?c(b,le(U(d,b))):c()),S.keepError||(ae(r.errors,b),w.isValid&&_()),A.state.next({...r}))},ct=(b,S={})=>{const M=b?le(b):d,H=le(M),W=ue(b),K=W?d:H;if(S.keepDefaultValues||(d=M),!S.keepValues){if(S.keepDirtyValues){const Y=new Set([...x.mount,...Object.keys(Ae(d,s))]);for(const te of Array.from(Y)){const re=U(r.dirtyFields,te),de=U(s,te),Ce=U(K,te);re&&!ne(de)?se(K,te,de):!re&&!ne(Ce)&&h(te,Ce)}}else{if(Qe&&ne(b))for(const Y of x.mount){const te=U(n,Y);if(te&&te._f){const re=Array.isArray(te._f.refs)?te._f.refs[0]:te._f.ref;if(_e(re)){const de=re.closest("form");if(de){de.reset();break}}}}if(S.keepFieldsRef)for(const Y of x.mount)h(Y,U(K,Y));else n={}}s=l.shouldUnregister?S.keepDefaultValues?le(d):{}:le(K),A.array.next({values:{...K}}),A.state.next({values:{...K}})}x={mount:S.keepDirtyValues?x.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!w.isValid||!!S.keepIsValid||!!S.keepDirtyValues||!l.shouldUnregister&&!ue(K),f.watch=!!l.shouldUnregister,f.keepIsValid=!!S.keepIsValid,f.action=!1,S.keepErrors||(r.errors={}),A.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:W?!1:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!Ne(b,d)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:W?{}:S.keepDirtyValues?S.keepDefaultValues&&s?Ae(d,s):r.dirtyFields:S.keepDefaultValues&&b?Ae(d,b):S.keepDirty?r.dirtyFields:{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitSuccessful:S.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:d})},ot=(b,S)=>ct(xe(b)?b(s):b,{...l.resetOptions,...S}),It=(b,S={})=>{const M=U(n,b),H=M&&M._f;if(H){const W=H.refs?H.refs[0]:H.ref;W.focus&&setTimeout(()=>{W.focus(),S.shouldSelect&&xe(W.select)&&W.select()})}},Tt=b=>{r={...r,...b}},dt={control:{register:ee,unregister:q,getFieldState:ce,handleSubmit:it,setError:ve,_subscribe:Ve,_runSchema:N,_updateIsValidating:B,_focusError:J,_getWatch:i,_getDirty:c,_setValid:_,_setFieldArray:$,_setDisabledField:Q,_setErrors:T,_getFieldArray:u,_reset:ct,_resetDefaultValues:()=>xe(l.defaultValues)&&l.defaultValues().then(b=>{ot(b,l.resetOptions),A.state.next({isLoading:!1})}),_removeUnmounted:m,_disableForm:Se,_subjects:A,_proxyFormState:w,get _fields(){return n},get _formValues(){return s},get _state(){return f},set _state(b){f=b},get _defaultValues(){return d},get _names(){return x},set _names(b){x=b},get _formState(){return r},get _options(){return l},set _options(b){l={...l,...b}}},subscribe:X,trigger:O,register:ee,handleSubmit:it,watch:ge,setValue:h,getValues:z,reset:ot,resetField:_t,clearErrors:Ke,unregister:q,setError:ve,setFocus:It,getFieldState:ce};return{...dt,formControl:dt}}function gr(t={}){const l=Z.useRef(void 0),r=Z.useRef(void 0),[n,d]=Z.useState({isDirty:!1,isValidating:!1,isLoading:xe(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:xe(t.defaultValues)?void 0:t.defaultValues});if(!l.current)if(t.formControl)l.current={...t.formControl,formState:n},t.defaultValues&&!xe(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:f,...x}=ir(t);l.current={...x,formState:n}}const s=l.current.control;return s._options=t,rt(()=>{const f=s._subscribe({formState:s._proxyFormState,callback:()=>d({...s._formState}),reRenderRoot:!0});return d(x=>({...x,isReady:!0})),s._formState.isReady=!0,f},[s]),Z.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Z.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Z.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Z.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Z.useEffect(()=>{if(s._proxyFormState.isDirty){const f=s._getDirty();f!==n.isDirty&&s._subjects.state.next({isDirty:f})}},[s,n.isDirty]),Z.useEffect(()=>{var f;t.values&&!Ne(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((f=s._options.resetOptions)===null||f===void 0)&&f.keepIsValid||s._setValid(),r.current=t.values,d(x=>({...x}))):s._resetDefaultValues()},[s,t.values]),Z.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),l.current.formState=Dt(n,s),l.current}function cr({documentNo:t="FAEI0158",releaseNo:l="5.0",controlBy:r="Assembly Division",title:n="Check Sheet",subtitle:d="ASSEMBLY",company:s="Sodick (Thailand) Co.,Ltd",currentPage:f=1,totalPage:x=1,date:j="14/09/2017",model:C="T-MASTER",group:R="FINAL INSPECTION"}){return e.jsxs("div",{className:"border-b border-black text-sm",children:[e.jsxs("div",{className:"flex border-b border-black",children:[e.jsxs("div",{className:"w-1/3 border-r border-black",children:[e.jsxs("div",{className:"flex border-b-0 border-black",children:[e.jsx("div",{className:"w-1/2 p-1 pl-2",children:"Document No."}),e.jsx("div",{className:"w-1/2 p-1 text-center font-medium",children:t})]}),e.jsxs("div",{className:"flex border-b border-black",children:[e.jsx("div",{className:"w-1/2 p-1 pl-2",children:"Release No."}),e.jsx("div",{className:"w-1/2 p-1 text-center font-medium",children:l})]}),e.jsx("div",{className:"flex border-b-0 border-black",children:e.jsx("div",{className:"w-full p-1 pl-2",children:"Control by"})}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"w-full p-1 pl-2",children:r})})]}),e.jsxs("div",{className:"w-1/3 border-r border-black flex flex-col",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center border-b-0 border-black font-bold",children:n}),e.jsx("div",{className:"flex-1 flex items-center justify-center border-b-0 border-black font-bold",children:d}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:s})]}),e.jsxs("div",{className:"w-1/3",children:[e.jsx("div",{className:"flex border-b-0 border-black h-8 items-center pl-2",children:"Page"}),e.jsxs("div",{className:"flex-1 flex items-center justify-center border-b border-black font-medium h-[33px]",children:[f," of ",x]}),e.jsx("div",{className:"flex border-b-0 border-black",children:e.jsx("div",{className:"w-full p-1 pl-2",children:"Date"})}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"w-full p-1 pl-2 text-center",children:j})})]})]}),e.jsxs("div",{className:"flex bg-white border-black font-bold text-sm",children:[e.jsx("div",{className:"w-1/6 border-r-0 border-black p-1 pl-2",children:"MODEL"}),e.jsx("div",{className:"w-1/6 border-r-0 border-black p-1 text-center",children:C}),e.jsxs("div",{className:"w-1/2 p-1 text-right pr-4",children:["GROUP ",R]})]})]})}function or({children:t,className:l="",formNumber:r="",content:n=null,currentPage:d=1,showHeader:s=!0}){const f=r||n?.formNumber||"";return e.jsxs("div",{className:"min-h-screen py-8 px-4 flex justify-center overflow-auto print:p-0 print:bg-white print:overflow-visible print:block print:min-h-0",children:[e.jsx("style",{children:`
                @media print {
                    @page {
                        size: A4;
                        margin: 0;
                    }
                    body {
                        margin: 0;
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                    /* Ensure background images/colors print */
                    * {
                        -webkit-print-color-adjust: exact !important;
                        print-color-adjust: exact !important;
                    }
                }
            `}),e.jsxs("div",{className:`
          bg-white 
          shadow-2xl 
          border border-gray-300
          p-[10mm]
          box-border
          relative
          shrink-0
          print:shadow-none
          print:border-none
          print:m-0
          print:w-full
          print:h-full
          print:p-[10mm]
          ${l}
        `,style:{width:"210mm",height:"297mm",breakAfter:"page",pageBreakAfter:"always"},children:[e.jsx("div",{className:"w-full h-full border-2 border-black relative overflow-hidden flex flex-col",children:e.jsxs("div",{children:[s&&n&&e.jsx("div",{className:"w-full",children:e.jsx(cr,{documentNo:n.documentNo,releaseNo:n.releaseNo,controlBy:n.controlBy,title:n.title,subtitle:n.subtitle,company:n.company,currentPage:d,totalPage:n.totalPage,date:n.date,model:n.model,group:n.group})}),e.jsx("div",{className:"m-2",children:t})]})}),f&&e.jsx("div",{className:"mr-10 absolute bottom-1 right-1 text-[8pt] text-gray-600",style:{fontFamily:"Arial, sans-serif"},children:f})]})]})}function dr({docNumber:t="FAWB0005",version:l="6.0",dateOfIssue:r="7-Apr-2025",approvalDate:n="21-Apr-2025",issuedBy:d="ENGINEERING DIV.",title:s="CHECK SHEET BODY ASS'Y"}){return e.jsxs("div",{className:"m-5 border border-black text-sm",children:[e.jsxs("div",{className:"grid grid-cols-12 border-b border-black",children:[e.jsx("div",{className:"col-span-2 border-r border-black p-1 text-left",children:t}),e.jsx("div",{className:"col-span-2 border-0 border-black p-1 text-left",children:"Date of issue"}),e.jsx("div",{className:"col-span-2 border-r border-black p-1 text-blue-700 font-medium flex justify-center items-center",children:r}),e.jsx("div",{className:"col-span-4 border-0 border-black p-1 text-left",children:"Engineering Div. Approval"}),e.jsx("div",{className:"col-span-2 p-1 text-blue-700 font-medium flex justify-center items-center",children:n})]}),e.jsxs("div",{className:"grid grid-cols-12 border-b border-black",children:[e.jsx("div",{className:"col-span-1 border-0 border-black p-1 text-left",children:"Ver."}),e.jsx("div",{className:"col-span-1 border-r border-black p-1 text-blue-700 font-medium text-center",children:l}),e.jsxs("div",{className:"col-span-10 p-1 pl-2",children:["Issued by ",d]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-2 border-0 border-black p-1 text-left",children:"TITLE:"}),e.jsx("div",{className:"col-span-10 p-1 pl-2 font-bold",children:s})]})]})}function ur({formData:t={},model:l="",onChange:r=()=>{}}){const n=s=>{const{name:f,value:x}=s.target;r(f,x)},d="bg-green-200";return e.jsx("div",{className:"mt-12 flex justify-center",children:e.jsxs("table",{className:"w-[65%] border-collapse table-fixed",children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"40%"}}),e.jsx("col",{style:{width:"60%"}})]}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"text-right pr-4 py-2 font-medium text-sm",children:"MODEL:"}),e.jsx("td",{className:`border-b border-black ${d} p-0 h-9 relative`,children:e.jsx("div",{className:"w-full h-full flex items-center justify-center font-medium text-sm",children:l||t.model||""})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-right pr-4 py-2 font-medium text-sm",children:"MACHINE NO:"}),e.jsx("td",{className:`border-b border-black ${d} p-0 h-9`,children:e.jsx("input",{type:"text",name:"machineNo",value:t.machineNo||"",onChange:n,className:"w-full h-full bg-transparent text-center outline-none font-medium text-sm",placeholder:"Enter Machine No."})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-right pr-4 py-2 font-medium text-sm",children:"CONTROLLER NO."}),e.jsx("td",{className:`border-b border-black ${d} p-0 h-9`,children:e.jsx("input",{type:"text",name:"controllerNo",value:t.controllerNo||"",onChange:n,className:"w-full h-full bg-transparent text-center outline-none font-medium text-sm",placeholder:"Enter Controller No."})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-right pr-4 py-2 font-medium text-sm",children:"START DATE :"}),e.jsx("td",{className:"border-b border-black bg-yellow-300 p-0 h-9 relative flex items-center justify-center",children:e.jsx("input",{type:"date",name:"startDate",style:{textAlign:"center",textAlignLast:"center"},className:"w-full h-full bg-transparent outline-none font-medium text-sm cursor-pointer text-center [&::-webkit-calendar-picker-indicator]:opacity-0 [&::-webkit-calendar-picker-indicator]:absolute [&::-webkit-calendar-picker-indicator]:inset-0 [&::-webkit-calendar-picker-indicator]:w-full [&::-webkit-calendar-picker-indicator]:h-full [&::-webkit-calendar-picker-indicator]:cursor-pointer",value:t.startDate||"",onChange:n})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-right pr-4 py-2 font-medium text-sm",children:"FINISH DATE:"}),e.jsx("td",{className:"border-b border-black bg-yellow-300 p-0 h-9 relative flex items-center justify-center",children:e.jsx("input",{type:"date",name:"finishDate",style:{textAlign:"center",textAlignLast:"center"},className:"w-full h-full bg-transparent outline-none font-medium text-sm cursor-pointer text-center [&::-webkit-calendar-picker-indicator]:opacity-0 [&::-webkit-calendar-picker-indicator]:absolute [&::-webkit-calendar-picker-indicator]:inset-0 [&::-webkit-calendar-picker-indicator]:w-full [&::-webkit-calendar-picker-indicator]:h-full [&::-webkit-calendar-picker-indicator]:cursor-pointer",value:t.finishDate||"",onChange:n})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-right pr-4 py-2 font-medium text-sm align-top pt-2",children:"OPTION:"}),e.jsx("td",{className:"border-b border-black p-0",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{name:"option1",value:t.option1||"",onChange:n,className:"w-full bg-yellow-300 border-b border-black border-dotted h-8 px-2 outline-none"}),e.jsx("input",{name:"option2",value:t.option2||"",onChange:n,className:"w-full bg-yellow-300 border-b border-black border-dotted h-8 px-2 outline-none"}),e.jsx("input",{name:"option3",value:t.option3||"",onChange:n,className:"w-full bg-yellow-300 border-b border-black border-dotted h-8 px-2 outline-none"}),e.jsx("input",{name:"option4",value:t.option4||"",onChange:n,className:"w-full bg-yellow-300 border-b border-black border-dotted h-8 px-2 outline-none"}),e.jsx("input",{name:"option5",value:t.option5||"",onChange:n,className:"w-full bg-yellow-300 h-8 px-2 outline-none"})]})})]})]})]})})}const Bt=D.createContext(null),yr=({children:t,handleSave:l,isSaving:r})=>e.jsx(Bt.Provider,{value:{handleSave:l,isSaving:r},children:t}),lt=()=>{const t=D.useContext(Bt);return t||(console.warn("useChecksheet must be used within a ChecksheetProvider"),{handleSave:async()=>(console.error("handleSave called without provider"),{success:!1,message:"No provider"}),isSaving:!1})};function at({isOpen:t,onClose:l,onConfirm:r,onDeny:n,user:d}){return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 print:hidden",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-96 border border-gray-300",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-center",children:"Confirm Signature"}),e.jsxs("p",{className:"mb-6 text-center text-gray-700",children:["Are you signing as ",e.jsx("br",{}),e.jsx("span",{className:"font-bold text-blue-600 text-lg",children:d?.username}),"?"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:r,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 rounded font-medium transition-colors",children:"Yes, Sign"}),e.jsx("button",{onClick:n,className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-2 rounded font-medium transition-colors",children:"No, Switch User"})]}),e.jsx("button",{onClick:l,className:"mt-4 text-xs text-gray-500 w-full text-center hover:underline",children:"Cancel"})]})}):null}function xr({formData:t={},onChange:l=()=>{}}){const{user:r,logout:n}=Pe(),{handleSave:d}=lt(),[s,f]=D.useState({isOpen:!1,roleType:null}),x=F=>{const{name:A,value:I}=F.target;l({[A]:I})},j=F=>{r&&f({isOpen:!0,roleType:F})},C=()=>{if(r&&s.roleType){const F={},A=s.roleType;A==="check"?(F.checkCode=r.code,F.checkName=r.username):A==="approve"&&(F.approveCode=r.code,F.approveName=r.username),l(F)}f({isOpen:!1,roleType:null})},R=async()=>{f({isOpen:!1,roleType:null});try{await d()}catch(F){console.error("Save failed before logout",F),alert("Save failed, but logging out.")}finally{n()}},w="bg-gray-300";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-10 mt-12 flex justify-end",children:e.jsxs("div",{className:"w-[45%] border border-black text-sm",children:[e.jsx("div",{className:`${w} text-center border-b border-black font-medium py-1 relative group`,children:"CHECKED BY"}),e.jsxs("div",{className:"grid grid-cols-2 border-b border-black",children:[e.jsx("div",{className:"border-r border-black text-center py-1 bg-white",children:"Code."}),e.jsx("div",{className:"text-center py-1 bg-white",children:"Name"})]}),e.jsxs("div",{className:"grid grid-cols-2 border-b border-black h-16 bg-yellow-300",children:[e.jsx("div",{className:"border-r border-black h-full",children:e.jsx("input",{name:"checkCode",value:t.checkCode||"",onChange:x,className:"w-full h-full bg-transparent text-center outline-none cursor-pointer",placeholder:r?"Click to sign":"",onClick:()=>j("check"),readOnly:!!r})}),e.jsx("div",{className:"h-full",children:e.jsx("input",{name:"checkName",value:t.checkName||"",onChange:x,className:"w-full h-full bg-transparent text-center outline-none cursor-pointer",onClick:()=>j("check"),readOnly:!!r})})]}),e.jsx("div",{className:`${w} text-center border-b border-black font-medium py-1 relative group`,children:"APPROVED BY"}),e.jsxs("div",{className:"grid grid-cols-2 border-b border-black",children:[e.jsx("div",{className:"border-r border-black text-center py-1 bg-white",children:"Code."}),e.jsx("div",{className:"text-center py-1 bg-white",children:"Name"})]}),e.jsxs("div",{className:"grid grid-cols-2 h-16 bg-yellow-300",children:[e.jsx("div",{className:"border-r border-black h-full",children:e.jsx("input",{name:"approveCode",value:t.approveCode||"",onChange:x,className:"w-full h-full bg-transparent text-center outline-none cursor-pointer",placeholder:r?"Click to sign":"",onClick:()=>j("approve"),readOnly:!!r})}),e.jsx("div",{className:"h-full",children:e.jsx("input",{name:"approveName",value:t.approveName||"",onChange:x,className:"w-full h-full bg-transparent text-center outline-none cursor-pointer",onClick:()=>j("approve"),readOnly:!!r})})]})]})}),e.jsx(at,{isOpen:s.isOpen,onClose:()=>f({isOpen:!1,roleType:null}),onConfirm:C,onDeny:R,user:r})]})}function jr({headerData:t={}}){const{watch:l,setValue:r}=Le(),n=l(),d=(s,f)=>{if(typeof s=="string"){const x=s,j=f;x==="machineNo"?(r("machineNo",j,{shouldDirty:!0}),r("machine_no",j,{shouldDirty:!0})):r(x,j,{shouldDirty:!0})}else typeof s=="object"&&s!==null&&Object.entries(s).forEach(([x,j])=>{x==="machineNo"?(r("machineNo",j,{shouldDirty:!0}),r("machine_no",j,{shouldDirty:!0})):r(x,j,{shouldDirty:!0})})};return e.jsxs(or,{innerPadding:"p-4",children:[e.jsx("h1",{className:"text-center text-3xl font-bold tracking-[0.3em] mb-8 text-black",children:"COVER SHEET"}),e.jsx(dr,{docNumber:t.docNumber,version:t.version,dateOfIssue:t.dateOfIssue,approvalDate:t.approvalDate||"N/A",issuedBy:t.issuedBy,title:t.title}),e.jsx(ur,{formData:n,model:t.model,onChange:d}),e.jsx(xr,{formData:n,onChange:d}),e.jsx("div",{className:"absolute bottom-8 left-0 right-0 text-center",children:e.jsx("p",{className:"text-lg font-medium text-black m-0",children:t.company||"Sodick ( Thailand ) Co., Ltd."})})]})}const G=(t,l={})=>{const{min:r=null,max:n=null,maxValue:d=null,maxDiff:s=null,arrow:f=null,useAbs:x=!1,validateStd:j=!0}=l;if(j===!1||t===""||t===void 0||t===null)return!0;const C=parseFloat(t);if(isNaN(C))return!0;if(d!==null&&Math.abs(C)>d||s!==null&&Math.abs(C)>s)return!1;if(r!==null&&n!==null){let R=C,w=r,F=n;if(x&&(R=Math.abs(C),w=Math.min(Math.abs(r),Math.abs(n)),F=Math.max(Math.abs(r),Math.abs(n))),R<w||R>F)return!1}return!(f&&((f==="-"||f==="down")&&C>0||(f==="+"||f==="up")&&C<0))},pe=(t,l)=>{if(t===""||t===void 0||t===null)return"";const r=parseFloat(t);if(isNaN(r))return t;if(r===0)return"0";const n=Math.abs(r),d=l.toLowerCase();return d==="x"?r>0?`${n}→`:`←${n}`:d==="y"?r>0?`↑${n}`:`${n}↓`:t},ye=t=>{if(t===""||t===void 0||t===null)return"";if(t.includes("→")||t.includes("↑")){const r=t.replace(/[→↑]/g,"").replace(/[^0-9.]/g,"");return r||""}if(t.includes("←")||t.includes("↓")){const r=t.replace(/[←↓]/g,"").replace(/[^0-9.]/g,"");return r?`-${r}`:""}const l=t.replace(/[^0-9.\-]/g,"");if(l.endsWith("-")||l.startsWith("-")){const r=l.replace(/-/g,"");return r?`-${r}`:""}return l},oe=t=>t.replace(/[^0-9.\-]/g,""),fe=()=>{const t=D.useCallback((r,n,{direction:d=1,onBoundary:s}={})=>{if(!n)return;let f=r+d;for(;f>=0&&f<n.length;){const x=n[f];if(x){x.focus();return}f+=d}s&&s()},[]);return{moveFocus:D.useCallback((r,n,d,s={})=>{r.key==="Enter"&&(s.preventDefault!==!1&&r.preventDefault(),t(n,d,s))},[t]),focusNext:t}};function Nr({data:t=[],onChange:l=()=>{},rows:r=7,labelA:n="A",labelB:d="B",standards:s=[],showStd:f=!1,validateStd:x=!0}){const{moveFocus:j}=fe(),C=D.useRef([]),R=D.useRef([]),[w,F]=D.useState(null),[A,I]=D.useState(""),E=D.useRef(!1),_=(k,m)=>{const i=(t[k]||{a:"",b:""})[m]||"";F({index:k,column:m}),I(i)},B=k=>pe(k,"y"),$=k=>{I(oe(k))},L=(k,m)=>{const c=[...t];c[k]||(c[k]={a:"",b:""}),c[k][m]=A,l(c),F(null),I("")},T=(k,m)=>{if(E.current){E.current=!1;return}w&&w.index===k&&w.column===m&&L(k,m)},P=(k,m,c)=>{k.key==="Enter"&&(E.current=!0,L(m,c),c==="a"?j(k,m,C.current,{direction:-1,onBoundary:()=>{R.current[0]&&R.current[0].focus()}}):c==="b"&&j(k,m,R.current,{direction:1}))},y=(k,m)=>{if(w&&w.index===k&&w.column===m)return A;const i=t[k]||{a:"",b:""};return B(i[m])},p=(k,m)=>{const c=s[k]||{},i=t[k]||{a:"",b:""};return G(i[m],{min:c.min,max:c.max,arrow:c.arrow,validateStd:x,useAbs:!0})},N=k=>{if(!k)return"";const{min:m,max:c,arrow:i}=k,u=i==="-"?"↓":i==="+"?"↑":"";return m===c?`${m}${u}`:`${m}~${c}${u}`},v=()=>{const k=[];for(let m=0;m<r;m++){const c=s[m]||null,i=p(m,"a"),u=p(m,"b");k.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-12",children:m+1}),f&&e.jsx("td",{className:"border border-black py-0.5 px-1 text-center text-xs bg-gray-50",children:c?N(c):""}),e.jsx("td",{className:`border border-black py-0.5 px-1 ${i?"":"bg-red-200"}`,children:e.jsx("input",{ref:a=>C.current[m]=a,type:"text",inputMode:"numeric",value:y(m,"a"),onFocus:()=>_(m,"a"),onChange:a=>$(a.target.value),onBlur:()=>T(m,"a"),onKeyDown:a=>P(a,m,"a"),className:"w-full h-full text-center bg-transparent outline-none"})}),e.jsx("td",{className:`border border-black py-0.5 px-1 ${u?"":"bg-red-200"}`,children:e.jsx("input",{ref:a=>R.current[m]=a,type:"text",inputMode:"numeric",value:y(m,"b"),onFocus:()=>_(m,"b"),onChange:a=>$(a.target.value),onBlur:()=>T(m,"b"),onKeyDown:a=>P(a,m,"b"),className:"w-full h-full text-center bg-transparent outline-none"})})]},m))}return k};return e.jsxs("table",{className:"border-collapse border border-black text-sm w-40",children:[e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:"2",className:"border border-black py-0.5 px-1 w-12",children:"No."}),f&&e.jsx("th",{rowSpan:"2",className:"border border-black py-0.5 px-1 w-16 bg-gray-100",children:"STD"}),e.jsx("th",{className:"border border-black py-0.5 px-1 w-24",children:n}),e.jsx("th",{className:"border border-black py-0.5 px-1 w-24",children:d})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black py-0.5 px-1",children:"DATA"}),e.jsx("th",{className:"border border-black py-0.5 px-1",children:"DATA"})]})]}),e.jsx("tbody",{children:v()})]})}function Ze({value:t="",onChange:l,className:r="",placeholder:n="DD/MM/YYYY",readOnly:d=!1,disabled:s=!1,style:f={}}){const x=D.useRef(null),j=A=>{if(!A)return"";const[I,E,_]=A.split("/");return!I||!E||!_?"":`${_}-${E}-${I}`},C=A=>{if(!A)return"";const[I,E,_]=A.split("-");return`${_}/${E}/${I}`},R=A=>{if(d||s)return;A.target.type="date";const I=j(t);A.target.value=I;try{A.target.showPicker&&A.target.showPicker()}catch{}},w=A=>{d||s||(A.target.type="text",A.target.value=t)},F=A=>{const I=A.target.value;if(!I){l("");return}const E=C(I);l(E),A.target.blur()};return e.jsx("input",{ref:x,type:"text",className:r,style:f,placeholder:n,value:t,disabled:s,readOnly:d,onFocus:R,onBlur:w,onChange:F,onClick:R})}function vr({name:t="",date:l="",onNameChange:r,onDateChange:n,onChange:d,label:s="CHECKED BY / DATE"}){const{user:f,logout:x}=Pe(),{handleSave:j}=lt(),[C,R]=D.useState(!1),w=()=>{f&&R(!0)},F=E=>{const _=E.name!==void 0?E.name:t,B=E.date!==void 0?E.date:l;d?d({name:_,date:B}):(E.name!==void 0&&r&&r(E.name),E.date!==void 0&&n&&n(E.date))},A=()=>{if(f){const E={};E.name=f.username;const _=new Date,B=_.getFullYear(),$=String(_.getMonth()+1).padStart(2,"0"),T=`${String(_.getDate()).padStart(2,"0")}/${$}/${B}`;l||(E.date=T),F(E)}R(!1)},I=async()=>{R(!1);try{await j()}catch(E){console.error("Save failed before logout",E)}finally{x()}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border border-black w-[150px] h-[120px] relative group",children:[e.jsx("div",{className:"border-b border-black px-2 py-1 text-xs font-medium bg-white flex justify-between items-center",children:e.jsx("span",{children:s})}),e.jsxs("div",{className:"flex flex-col h-[calc(100%-25px)]",children:[e.jsx("div",{className:"h-[70%] border-b border-black relative",children:e.jsx("input",{type:"text",value:t,onChange:E=>F({name:E.target.value}),onClick:E=>{f&&(w(),E.target.blur())},placeholder:f?"Click to sign":"",readOnly:!!f,className:`w-full h-full px-2 text-center text-sm bg-transparent outline-none placeholder:text-gray-300 placeholder:text-[10px] ${f?"cursor-pointer hover:bg-gray-50":""}`})}),e.jsx("div",{className:"h-[30%] relative",children:e.jsx(Ze,{value:l,onChange:E=>F({date:E}),className:"w-full h-full px-2 text-center text-xs bg-transparent outline-none cursor-pointer"})})]})]}),e.jsx(at,{isOpen:C,onClose:()=>R(!1),onConfirm:A,onDeny:I,user:f})]})}function Te({label:t="BED No.",value:l="",onChange:r=()=>{},labelClass:n="text-sm",inputClass:d="w-20 text-sm"}){return e.jsxs("div",{className:"flex items-end",children:[e.jsx("span",{className:`mr-1 whitespace-nowrap font-arial ${n}`,children:t}),e.jsx("input",{type:"text",className:`border-b border-black outline-none px-1 font-arial ${d}`,style:{textTransform:"uppercase"},value:l,onChange:s=>r(s.target.value.toUpperCase())})]})}function wr({data:t=[],onChange:l=()=>{},standards:r=[],rows:n=7,showStd:d=!0,validateStd:s=!0,useArrow:f=!0}){const{moveFocus:x}=fe(),j=D.useRef([]),C=D.useRef([]),[R,w]=D.useState(null),[F,A]=D.useState(""),I=v=>{if(!f){if(v===""||v===void 0||v===null)return"";const k=parseFloat(v);return isNaN(k)?v:k===0?"0":k.toString()}return pe(v,"y")},E=v=>ye(v),_=(v,k)=>{const c=(t[v]||{a:"",b:""})[k]||"";w({index:v,column:k}),A(c)},B=v=>{A(oe(v))},$=(v,k)=>{const m=E(F),c=[...t];c[v]||(c[v]={a:"",b:""}),c[v][k]=m,l(c),w(null),A("")},L=(v,k)=>{$(v,k)},T=(v,k,m)=>{v.key==="Enter"&&(justCommittedRef.current=!0,$(k,m),m==="a"?x(v,k,j.current,{direction:-1,onBoundary:()=>{C.current[0]&&C.current[0].focus()}}):m==="b"&&x(v,k,C.current,{direction:1}))},P=v=>{const k=t[v]||{a:"",b:""},m=r[v]||{min:0,max:0},c=parseFloat(k.a),i=parseFloat(k.b);let u="";!isNaN(c)&&!isNaN(i)&&(u=Math.abs(c-i).toFixed(2).replace(/\.?0+$/,""));const a=!s||k.a===""||G(c,{min:m.min,max:m.max,arrow:m.arrow,validateStd:s,useAbs:!0}),o=!s||k.b===""||G(i,{min:m.min,max:m.max,arrow:m.arrow,validateStd:s,useAbs:!0}),h=parseFloat(u),g=Math.max(Math.abs(m.min),Math.abs(m.max)),V=!s||u===""||G(h,{maxDiff:g,validateStd:s,useAbs:!0});return{diff:u,isAValid:a,isBValid:o,isDiffValid:V}},y=v=>{if(!v)return"";if(v.min===v.max)return v.min.toString();const k=Math.abs(v.min),m=Math.abs(v.max);return v.arrow==="up"||v.arrow==="+"?`${m}↑ - ${k}`:v.arrow==="down"||v.arrow==="-"?`${k}↓ - ${m}`:`${v.min} - ${v.max}`},p=(v,k)=>{if(R&&R.index===v&&R.column===k)return F;const c=t[v]||{a:"",b:""};return I(c[k])},N=()=>{const v=[];for(let k=0;k<n;k++){const m=r[k]||{min:0,max:5},{diff:c,isAValid:i,isBValid:u}=P(k);v.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-8",children:k+1}),d&&e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-14",children:y(m)}),e.jsx("td",{className:`border border-black py-0.5 px-1 ${i?"":"bg-red-200"}`,children:e.jsx("input",{ref:a=>j.current[k]=a,type:"text",inputMode:"numeric",value:p(k,"a"),onFocus:()=>_(k,"a"),onChange:a=>B(a.target.value),onBlur:()=>L(k,"a"),onKeyDown:a=>T(a,k,"a"),className:"w-full h-full text-center bg-transparent outline-none"})}),e.jsx("td",{className:`border border-black py-0.5 px-1 ${u?"":"bg-red-200"}`,children:e.jsx("input",{ref:a=>C.current[k]=a,type:"text",inputMode:"numeric",value:p(k,"b"),onFocus:()=>_(k,"b"),onChange:a=>B(a.target.value),onBlur:()=>L(k,"b"),onKeyDown:a=>T(a,k,"b"),className:"w-full h-full text-center bg-transparent outline-none"})}),e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-12",children:c})]},k))}return v};return e.jsxs("table",{className:"border-collapse border border-black text-sm w-60 h-70",children:[e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:"2",className:"border border-black w-8",children:"No."}),d&&e.jsx("th",{rowSpan:"2",className:"border border-black w-14",children:"STD."}),e.jsx("th",{className:"border border-black w-14",children:"A=KB"}),e.jsx("th",{className:"border border-black w-14",children:"B"}),e.jsx("th",{rowSpan:"2",className:"border border-black w-12",children:"DIFF"})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black",children:"DATA"}),e.jsx("th",{className:"border border-black",children:"DATA"})]})]}),e.jsx("tbody",{children:N()})]})}function kr({data:t=[],onChange:l=()=>{},standards:r=[],rows:n=5,showStd:d=!0,validateStd:s=!0}){const{moveFocus:f}=fe(),x=D.useRef([]),[j,C]=D.useState(null),[R,w]=D.useState(""),F=p=>pe(p,"y"),A=p=>ye(p),I=p=>{const N=t[p]||"";C(p),w(N)},E=p=>{w(oe(p))},_=p=>{const N=A(R),v=[...t];v[p]=N,l(v),C(null),w("")},B=p=>{_(p)},$=(p,N)=>{p.key==="Enter"&&(_(N),f(p,N,x.current,{direction:-1}))},L=p=>j===p?R:F(t[p]),T=p=>{const N=r[p]||{};return G(t[p],{min:N.min,max:N.max,arrow:N.arrow,validateStd:s,useAbs:!0})},P=p=>p?p.min===p.max?p.min===0?"0":p.arrow==="+"?`${p.min}↑`:p.arrow==="-"?`${p.min}↓`:p.min.toString():p.arrow==="+"?`${p.min}~${p.max}↑`:p.arrow==="-"?`${p.min}~${p.max}↓`:`${p.min}~${p.max}`:"",y=()=>{const p=[];for(let N=0;N<n;N++){const v=r[N]||{min:0,max:0},k=T(N);p.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-8",children:N+1}),d&&e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-12",children:P(v)}),e.jsx("td",{className:`border border-black py-0.5 px-1 ${k?"":"bg-red-200"}`,children:e.jsx("input",{ref:m=>x.current[N]=m,type:"text",inputMode:"numeric",value:L(N),onFocus:()=>I(N),onChange:m=>E(m.target.value),onBlur:()=>B(N),onKeyDown:m=>$(m,N),className:"w-full h-full text-center bg-transparent outline-none"})})]},N))}return p};return e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black py-0.5 px-1 w-8"}),d&&e.jsx("th",{className:"border border-black py-0.5 px-1 w-12",children:"STD"}),e.jsx("th",{className:"border border-black py-0.5 px-1 w-14",children:"PITCHING"})]})}),e.jsx("tbody",{children:y()})]})}function Vr({data:t=[],onChange:l=()=>{},standards:r=[],rows:n=5,showStd:d=!0,validateStd:s=!0}){const{moveFocus:f}=fe(),x=D.useRef([]),[j,C]=D.useState(null),[R,w]=D.useState(""),F=p=>pe(p,"x"),A=p=>ye(p),I=p=>{const N=t[p]||"";C(p),w(N)},E=p=>{w(oe(p))},_=p=>{const N=A(R),v=[...t];v[p]=N,l(v),C(null),w("")},B=p=>{_(p)},$=(p,N)=>{p.key==="Enter"&&(_(N),f(p,N,x.current,{direction:-1}))},L=p=>j===p?R:F(t[p]),T=p=>{const N=r[p]||{};return G(t[p],{min:N.min,max:N.max,arrow:N.arrow,validateStd:s,useAbs:!0})},P=p=>p?p.min===p.max?p.min===0?"0":p.arrow==="+"?`${p.min}→`:p.arrow==="-"?`${p.min}←`:p.min.toString():p.arrow==="+"?`${p.min}~${p.max}→`:p.arrow==="-"?`${p.min}~${p.max}←`:`${p.min}~${p.max}`:"",y=()=>{const p=[];for(let N=0;N<n;N++){const v=r[N]||{min:0,max:0},k=T(N);p.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-8",children:N+1}),d&&e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-12",children:P(v)}),e.jsx("td",{className:`border border-black py-0.5 px-1 ${k?"":"bg-red-200"}`,children:e.jsx("input",{ref:m=>x.current[N]=m,type:"text",inputMode:"numeric",value:L(N),onFocus:()=>I(N),onChange:m=>E(m.target.value),onBlur:()=>B(N),onKeyDown:m=>$(m,N),className:"w-full h-full text-center bg-transparent outline-none"})})]},N))}return p};return e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black py-0.5 px-1 w-8"}),d&&e.jsx("th",{className:"border border-black py-0.5 px-1 w-12",children:"STD"}),e.jsx("th",{className:"border border-black py-0.5 px-1 w-14",children:"ROLLING"})]})}),e.jsx("tbody",{children:y()})]})}function Sr({data:t=[],onChange:l=()=>{},standards:r=[],rows:n=9,showStd:d=!1,validateStd:s=!0}){const{moveFocus:f}=fe(),x=D.useRef([]),j=D.useRef([]),[C,R]=D.useState(null),[w,F]=D.useState(""),A=N=>{if(N===""||N===void 0||N===null)return"";const v=parseFloat(N);return isNaN(v)?N:v.toString()},I=N=>oe(N),E=(N,v)=>{const m=(t[N]||{a:"",b:""})[v]||"";R({index:N,column:v}),F(m)},_=N=>{F(oe(N))},B=(N,v)=>{const k=I(w),m=[...t];m[N]||(m[N]={a:"",b:""}),m[N][v]=k,l(m),R(null),F("")},$=(N,v)=>{B(N,v)},L=(N,v,k)=>{N.key==="Enter"&&(B(v,k),k==="a"?f(N,v,x.current,{direction:-1,onBoundary:()=>{const m=j.current[0];m&&m.focus()}}):k==="b"&&f(N,v,j.current,{direction:1}))},T=(N,v)=>{if(C&&C.index===N&&C.column===v)return w;const m=t[N]||{a:"",b:""};return A(m[v])},P=N=>{const v=t[N]||{a:"",b:""},k=r[N]||{min:0,max:0},m=parseFloat(v.a),c=parseFloat(v.b);let i="";!isNaN(m)&&!isNaN(c)&&(i=(m+c).toFixed(2).replace(/\.?0+$/,""));const u=G(v.a,{min:k.min,max:k.max,validateStd:s,useAbs:!0}),a=G(v.b,{min:k.min,max:k.max,validateStd:s,useAbs:!0}),o=G(i,{min:k.min,max:k.max,validateStd:s,useAbs:!0});return{sum:i,isAValid:u,isBValid:a,isSumValid:o}},y=N=>N?N.min===N.max?N.min.toString():`${N.min} - ${N.max}`:"",p=()=>{const N=[];for(let v=0;v<n;v++){const k=r[v]||{min:0,max:0},{sum:m,isAValid:c,isBValid:i,isSumValid:u}=P(v);N.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-8",children:v+1}),d&&e.jsx("td",{className:"border border-black py-0.5 px-1 text-center w-14",children:y(k)}),e.jsx("td",{className:`border border-black py-0.5 px-1 ${c?"":"bg-red-200"}`,children:e.jsx("input",{ref:a=>x.current[v]=a,type:"text",inputMode:"numeric",value:T(v,"a"),onFocus:()=>E(v,"a"),onChange:a=>_(a.target.value),onBlur:()=>$(v,"a"),onKeyDown:a=>L(a,v,"a"),className:"w-full h-full text-center bg-transparent outline-none"})}),e.jsx("td",{className:`border border-black py-0.5 px-1 ${i?"":"bg-red-200"}`,children:e.jsx("input",{ref:a=>j.current[v]=a,type:"text",inputMode:"numeric",value:T(v,"b"),onFocus:()=>E(v,"b"),onChange:a=>_(a.target.value),onBlur:()=>$(v,"b"),onKeyDown:a=>L(a,v,"b"),className:"w-full h-full text-center bg-transparent outline-none"})}),e.jsx("td",{className:`border border-black py-0.5 px-1 text-center w-12 ${u?"":"bg-red-200"}`,children:m})]},v))}return N};return e.jsxs("table",{className:"border-collapse border border-black text-sm w-60",children:[e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:"2",className:"border border-black w-8",children:"No."}),d&&e.jsx("th",{rowSpan:"2",className:"border border-black w-14",children:"STD."}),e.jsx("th",{className:"border border-black w-14",children:"A=KB"}),e.jsx("th",{className:"border border-black w-14",children:"B"}),e.jsx("th",{rowSpan:"2",className:"border border-black w-12",children:"A+B"})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black",children:"DATA"}),e.jsx("th",{className:"border border-black",children:"DATA"})]})]}),e.jsx("tbody",{children:p()})]})}function Cr({data:t={b:[],a:[]},onChange:l=()=>{},standards:r=[],cols:n=7,labelA:d="A = Kb",labelB:s="B",showStd:f=!0,validateStd:x=!0}){const{moveFocus:j}=fe(),C=D.useRef([]),R=D.useRef([]),[w,F]=D.useState(null),[A,I]=D.useState(""),E=D.useRef(!1),_=(i,u)=>{const o=(t[i]||[])[u]||"";F({row:i,index:u}),I(o)},B=i=>pe(i,"x"),$=i=>ye(i),L=i=>{I(oe(i))},T=(i,u)=>{const a=$(A),o={...t};o[i]||(o[i]=[]),o[i][u]=a,l(o),F(null),I("")},P=(i,u)=>{if(E.current){E.current=!1;return}w&&w.row===i&&w.index===u&&T(i,u)},y=(i,u,a)=>{i.key==="Enter"&&(E.current=!0,T(u,a),u==="b"?j(i,a,C.current,{direction:1,onBoundary:()=>{R.current[0]&&R.current[0].focus()}}):u==="a"&&j(i,a,R.current,{direction:1}))},p=(i,u)=>{if(w&&w.row===i&&w.index===u)return A;const o=t[i]||[];return B(o[u])},N=(i,u)=>{const a=r[u]||{},o=t[i]||[];return G(o[u],{min:a.min,max:a.max,validateStd:x,useAbs:!0})},v=i=>{if(!i)return"";const{min:u,max:a,arrow:o}=i,h=o==="-"?"←":o==="+"?"→":"";return u===a?`${u}${h}`:`${u}~${a}${h}`},k=()=>{const i=[];for(let u=0;u<n;u++)i.push(e.jsx("th",{className:"border border-black p-1 w-12 text-center",children:u+1},u));return i},m=()=>{const i=[];for(let u=0;u<n;u++){const a=r[u]||null;i.push(e.jsx("td",{className:"border border-black p-1 text-center text-xs",children:a?v(a):""},u))}return i},c=(i,u)=>{const a=[];for(let o=0;o<n;o++){const h=N(i,o);a.push(e.jsx("td",{className:`border border-black p-1 ${h?"":"bg-red-200"}`,children:e.jsx("input",{ref:g=>u.current[o]=g,type:"text",inputMode:"numeric",value:p(i,o),onFocus:()=>_(i,o),onChange:g=>L(g.target.value),onBlur:()=>P(i,o),onKeyDown:g=>y(g,i,o),className:"w-full h-full text-center bg-transparent outline-none"})},o))}return a};return e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black p-1 w-16 bg-gray-100"}),k()]})}),e.jsxs("tbody",{children:[f&&e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium bg-gray-100",children:"STD"}),m()]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:d}),c("a",R)]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:s}),c("b",C)]})]})]})}function Dr({data:t={b:[],a:[]},onChange:l=()=>{},standards:r=[],cols:n=7,useArrow:d=!0,showStd:s=!0,validateStd:f=!0,labelA:x="A = Kb",labelB:j="B"}){const C=D.useRef([]),R=D.useRef([]),[w,F]=D.useState(null),[A,I]=D.useState(""),E=o=>{if(!d){if(o===""||o===void 0||o===null)return"";const h=parseFloat(o);return isNaN(h)?o:h===0?"0":h.toString()}return pe(o,"x")},_=o=>ye(o),B=o=>{if(!o)return"";if(o.min===o.max)return o.min.toString();const h=Math.abs(o.min),g=Math.abs(o.max);return o.arrow==="up"||o.arrow==="+"?`${g}→ - ${h}`:o.arrow==="down"||o.arrow==="-"?`←${h} - ${g}`:`${o.min} - ${o.max}`},$=(o,h)=>{const V=(t[o]||[])[h]||"";F({row:o,index:h}),I(V)},L=o=>{const h=o.replace(/[^0-9.\-]/g,"");I(h)},T=D.useRef(!1),P=(o,h)=>{const g=_(A),V={...t};V[o]||(V[o]=[]),V[o][h]=g,l(V),F(null),I("")},y=(o,h)=>{if(T.current){T.current=!1;return}w&&w.row===o&&w.index===h&&P(o,h)},p=(o,h,g)=>{o.key==="Enter"&&(T.current=!0,P(h,g),h==="b"?moveFocus(o,g,C.current,{direction:1,onBoundary:()=>{R.current[0]&&R.current[0].focus()}}):h==="a"&&moveFocus(o,g,R.current,{direction:1}))},N=(o,h)=>{if(w&&w.row===o&&w.index===h)return A;const V=t[o]||[];return E(V[h])},v=(o,h)=>{const g=r[h]||{},V=t[o]||[];return G(V[h],{min:g.min,max:g.max,arrow:g.arrow,validateStd:f,useAbs:!0})},k=o=>{const h=parseFloat((t.b||[])[o]),g=parseFloat((t.a||[])[o]);return isNaN(h)||isNaN(g)?"":Math.abs(g-h).toFixed(2).replace(/\.?0+$/,"")},m=()=>{const o=[];for(let h=0;h<n;h++)o.push(e.jsx("th",{className:"border border-black p-1 w-14 text-center",children:h+1},h));return o},c=()=>{const o=[];for(let h=0;h<n;h++){const g=r[h]||{min:0,max:0};o.push(e.jsx("td",{className:"border border-black p-1 text-center text-xs",children:B(g)},h))}return o},i=(o,h)=>{const g=[];for(let V=0;V<n;V++){const O=v(o,V);g.push(e.jsx("td",{className:`border border-black p-1 ${O?"":"bg-red-200"}`,children:e.jsx("input",{ref:z=>h.current[V]=z,type:"text",inputMode:"numeric",value:N(o,V),onFocus:()=>$(o,V),onChange:z=>L(z.target.value),onBlur:()=>y(o,V),onKeyDown:z=>p(z,o,V),className:"w-full h-full text-center bg-transparent outline-none text-sm"})},V))}return g},u=o=>{const h=r[o]||{min:0,max:0},g=Math.max(Math.abs(h.min),Math.abs(h.max)),V=k(o);return G(V,{maxDiff:g,validateStd:f,useAbs:!0})},a=()=>{const o=[];for(let h=0;h<n;h++){const g=u(h);o.push(e.jsx("td",{className:`border border-black p-1 text-center ${g?"":"bg-red-200"}`,children:k(h)},h))}return o};return e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black p-1 w-16 bg-gray-100"}),m()]})}),e.jsxs("tbody",{children:[s&&e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:"STD"}),c()]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:j}),i("b",C)]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:x}),i("a",R)]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:"DIFF"}),a()]})]})]})}function Fr({data:t=[],onChange:l=()=>{},standards:r=[],cols:n=5,showStd:d=!0,validateStd:s=!0,label:f="Pitching"}){const{moveFocus:x}=fe(),j=D.useRef([]),[C,R]=D.useState(null),[w,F]=D.useState(""),A=D.useRef(!1),I=m=>pe(m,"x"),E=m=>ye(m),_=m=>{const c=t[m]||"";R(m),F(c)},B=m=>{F(oe(m))},$=m=>{const c=E(w),i=[...t];i[m]=c,l(i),R(null),F("")},L=m=>{if(A.current){A.current=!1;return}C===m&&$(m)},T=(m,c)=>{m.key==="Enter"&&(A.current=!0,$(c),x(m,c,j.current,{direction:1}))},P=m=>C===m?w:I(t[m]),y=m=>{const c=r[m]||{};return G(t[m],{min:c.min,max:c.max,arrow:c.arrow,validateStd:s,useAbs:!0})},p=m=>{if(!m)return"";const{min:c,max:i,arrow:u}=m,a=u==="-"?"←":u==="+"?"→":"";return c===i?c===0&&!u?"0":`${c}${a}`:`${c}~${i}${a}`},N=()=>{const m=[];for(let c=0;c<n;c++)m.push(e.jsx("th",{className:"border border-black p-1 w-12 text-center",children:c+1},c));return m},v=()=>{const m=[];for(let c=0;c<n;c++){const i=r[c]||null;m.push(e.jsx("td",{className:"border border-black p-1 text-center text-xs",children:i?p(i):""},c))}return m},k=()=>{const m=[];for(let c=0;c<n;c++){const i=y(c);m.push(e.jsx("td",{className:`border border-black p-1 ${i?"":"bg-red-200"}`,children:e.jsx("input",{ref:u=>j.current[c]=u,type:"text",inputMode:"numeric",value:P(c),onFocus:()=>_(c),onChange:u=>B(u.target.value),onBlur:()=>L(c),onKeyDown:u=>T(u,c),className:"w-full h-full text-center bg-transparent outline-none"})},c))}return m};return e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black p-1 w-16 bg-gray-100"}),N()]})}),e.jsxs("tbody",{children:[d&&e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium bg-gray-100",children:"STD"}),v()]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:f}),k()]})]})]})}function Ar({data:t=[],onChange:l=()=>{},standards:r=[],cols:n=5,showStd:d=!0,validateStd:s=!0,label:f="Rolling"}){const{moveFocus:x}=fe(),j=D.useRef([]),[C,R]=D.useState(null),[w,F]=D.useState(""),A=D.useRef(!1),I=m=>pe(m,"y"),E=m=>ye(m),_=m=>{const c=t[m]||"";R(m),F(c)},B=m=>{F(oe(m))},$=m=>{const c=E(w),i=[...t];i[m]=c,l(i),R(null),F("")},L=m=>{if(A.current){A.current=!1;return}C===m&&$(m)},T=(m,c)=>{m.key==="Enter"&&(A.current=!0,$(c),x(m,c,j.current,{direction:1}))},P=m=>C===m?w:I(t[m]),y=m=>{const c=r[m]||{};return G(t[m],{min:c.min,max:c.max,arrow:c.arrow,validateStd:s,useAbs:!0})},p=m=>{if(!m)return"";const{min:c,max:i,arrow:u}=m,a=u==="-"?"↓":u==="+"?"↑":"";return c===i?c===0&&!u?"0":`${c}${a}`:`${c}~${i}${a}`},N=()=>{const m=[];for(let c=0;c<n;c++)m.push(e.jsx("th",{className:"border border-black p-1 w-12 text-center",children:c+1},c));return m},v=()=>{const m=[];for(let c=0;c<n;c++){const i=r[c]||null;m.push(e.jsx("td",{className:"border border-black p-1 text-center text-xs",children:i?p(i):""},c))}return m},k=()=>{const m=[];for(let c=0;c<n;c++){const i=y(c);m.push(e.jsx("td",{className:`border border-black p-1 ${i?"":"bg-red-200"}`,children:e.jsx("input",{ref:u=>j.current[c]=u,type:"text",inputMode:"numeric",value:P(c),onFocus:()=>_(c),onChange:u=>B(u.target.value),onBlur:()=>L(c),onKeyDown:u=>T(u,c),className:"w-full h-full text-center bg-transparent outline-none"})},c))}return m};return e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black p-1 w-16 bg-gray-100"}),N()]})}),e.jsxs("tbody",{children:[d&&e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium bg-gray-100",children:"STD"}),v()]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:f}),k()]})]})]})}function Er({data:t={x:{in:!1,out:!1},ykc:{in:!1,out:!1},ykb:{in:!1,out:!1}},onChange:l=()=>{}}){const r=(s,f)=>{const x={...t};x[s]||(x[s]={in:!1,out:!1}),x[s][f]=!x[s][f],l(x)},n=[{key:"x",label:"x",rowSpan:2},{key:"ykc",label:"Y(KC)",rowSpan:2},{key:"ykb",label:"Y(KB)",rowSpan:2}],d=()=>{const s=[];return n.forEach(f=>{s.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",rowSpan:2,children:f.label}),e.jsx("td",{className:"border border-black p-1 text-center",children:'Coil "IN"'}),e.jsx("td",{className:"border border-black p-1 text-center",children:e.jsx("input",{type:"checkbox",checked:t[f.key]?.in||!1,onChange:()=>r(f.key,"in"),className:"w-4 h-4 cursor-pointer"})})]},`${f.key}-in`)),s.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center",children:'Coil "OUT"'}),e.jsx("td",{className:"border border-black p-1 text-center",children:e.jsx("input",{type:"checkbox",checked:t[f.key]?.out||!1,onChange:()=>r(f.key,"out"),className:"w-4 h-4 cursor-pointer"})})]},`${f.key}-out`))}),s};return e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black p-1 w-16 text-center",children:"Axis"}),e.jsx("th",{className:"border border-black p-1 w-24 text-center",children:"Check"}),e.jsx("th",{className:"border border-black p-1 w-28 text-center",children:"ทดสอบด้วยการดึง"})]})}),e.jsx("tbody",{children:d()})]})}function Rr({label:t="",unit:l="mm",value:r="",onChange:n=()=>{},minStd:d=0,maxStd:s=0,validateStd:f=!0,inputWidth:x="w-24"}){const j=()=>G(r,{min:d,max:s,validateStd:f,useAbs:!1}),C=R=>{const F=R.target.value.replace(/[^0-9.]/g,"");n(F)};return e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"mr-2 whitespace-nowrap",children:t}),e.jsx("input",{type:"text",inputMode:"decimal",value:r,onChange:C,className:`border-b border-black outline-none px-1 text-center ${x} ${j()?"":"bg-red-200"}`}),e.jsx("span",{className:"ml-2 whitespace-nowrap",children:l})]})}function Mr({startTime:t="",finishTime:l="",onStartChange:r=()=>{},onFinishChange:n=()=>{},minHours:d=0,validateStd:s=!1}){const x=(()=>{if(!t||!l)return"";const[C,R]=t.split(":").map(Number),[w,F]=l.split(":").map(Number);if(isNaN(C)||isNaN(R)||isNaN(w)||isNaN(F))return"";const A=C*60+R;let I=w*60+F;I<A&&(I+=1440);const E=I-A,_=Math.floor(E/60),B=E%60;return B===0?_.toString():`${_}:${B.toString().padStart(2,"0")}`})(),j=()=>{if(!s||x==="")return!0;const C=x.split(":");return parseFloat(C[0])+(C[1]?parseFloat(C[1])/60:0)>=d};return e.jsxs("div",{className:"flex items-center text-sm space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"Start :"}),e.jsx("input",{type:"time",value:t,onChange:C=>r(C.target.value),className:"border-b border-black outline-none px-1 text-center w-28"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"Finish :"}),e.jsx("input",{type:"time",value:l,onChange:C=>n(C.target.value),className:"border-b border-black outline-none px-1 text-center w-28"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"Total :"}),e.jsx("span",{className:`border-b border-black px-1 text-center w-20 inline-block ${j()?"":"bg-red-200"}`,children:x}),e.jsx("span",{className:"ml-2",children:"Hrs."})]})]})}function $r({data:t={},onChange:l=()=>{},standard:r={min:-10,max:10},parallelStandard:n=5}){const d={bl:D.useRef(null),ml:D.useRef(null),tl:D.useRef(null),tc:D.useRef(null),tr:D.useRef(null),mr:D.useRef(null),br:D.useRef(null),mc:D.useRef(null)},s=["bl","ml","tl","tc","tr","mr","br","mc"],[f,x]=D.useState(null),[j,C]=D.useState(""),R=["tl","tc","tr"],w=["ml","mc","mr"],F=["bl","zero","br"],A=["tl","tc","tr","ml","mc","mr","bl","br"],I=()=>{const i=[0];return A.forEach(u=>{const a=parseFloat(t[u]);isNaN(a)||i.push(a)}),i},E=()=>{const i=I();return i.length===1?"":Math.max(...i).toFixed(2).replace(/\.?0+$/,"")},_=()=>{const i=I();return i.length===1?"":Math.min(...i).toFixed(2).replace(/\.?0+$/,"")},B=()=>{const i=I();if(i.length===1)return"";const u=Math.max(...i),a=Math.min(...i);return Math.abs(u-a).toFixed(2).replace(/\.?0+$/,"")},$=()=>{const i=B();return G(i,{maxDiff:Math.abs(r.max),validateStd:!0,useAbs:!0})},L=()=>{const i=o=>{if(o==="zero")return 0;const h=parseFloat(t[o]);return isNaN(h)?null:h},u=[["tl","tc"],["tc","tr"],["ml","mc"],["mc","mr"],["bl","zero"],["zero","br"],["tl","ml"],["ml","bl"],["tc","mc"],["mc","zero"],["tr","mr"],["mr","br"]];let a=null;return u.forEach(([o,h])=>{const g=i(o),V=i(h);if(g!==null&&V!==null){const O=Math.abs(g-V);(a===null||O>a)&&(a=O)}}),a===null?"":a.toFixed(2).replace(/\.?0+$/,"")},T=()=>{const i=L();return G(i,{maxValue:n,validateStd:!0})},P=i=>{x(i),C(t[i]||"")},y=i=>{const u=i.replace(/[^0-9.\-]/g,"");C(u)},p=i=>{const u={...t,[i]:j};l(u),x(null),C("")},N=i=>{f===i&&p(i)},v=(i,u)=>{if(i.key==="Enter"){i.preventDefault(),p(u);const a=s.indexOf(u);if(a!==-1&&a<s.length-1){const o=s[a+1];d[o]&&d[o].current&&d[o].current.focus()}}},k=i=>f===i?j:t[i]||"",m=i=>e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("span",{className:"text-gray-500 text-lg",children:"●"}),e.jsx("input",{ref:d[i],type:"text",inputMode:"numeric",className:"w-12 border-b border-black text-center outline-none bg-transparent text-xs ml-1",value:k(i),onFocus:()=>P(i),onChange:u=>y(u.target.value),onBlur:()=>N(i),onKeyDown:u=>v(u,i)})]}),c=i=>i==="zero"?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("span",{className:"text-gray-500 text-lg",children:"●"}),e.jsx("span",{className:"ml-1 text-xs",children:"0"})]}):m(i);return e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"border border-black p-4 bg-white",children:e.jsxs("div",{className:"grid grid-cols-3 gap-x-8 gap-y-4",children:[R.map(i=>e.jsx("div",{className:"h-8 flex items-center justify-center",children:c(i)},i)),w.map(i=>e.jsx("div",{className:"h-8 flex items-center justify-center",children:c(i)},i)),F.map(i=>e.jsx("div",{className:"h-8 flex items-center justify-center",children:c(i)},i))]})}),e.jsx("div",{className:" bg-white text-xs",children:e.jsxs("table",{className:"border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black px-4 py-1 font-bold",children:"STD"}),e.jsx("th",{className:"border border-black px-4 py-1 font-bold",children:"DATA"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{className:"border border-black px-2 py-1 text-center align-top",rowSpan:3,children:[e.jsxs("div",{children:[Math.abs(r.max)," μm"]}),e.jsx("div",{children:"MAX"})]}),e.jsx("td",{className:`border border-black px-2 py-1 ${$()?"":"bg-red-200"}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"MAX"}),e.jsx("span",{className:"border-b border-black px-2 min-w-10 text-center inline-block",children:E()}),e.jsx("span",{children:"μm"})]})})]}),e.jsx("tr",{children:e.jsx("td",{className:`border border-black px-2 py-1 ${$()?"":"bg-red-200"}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"MIN"}),e.jsx("span",{className:"border-b border-black px-2 min-w-10 text-center inline-block",children:_()}),e.jsx("span",{children:"μm"})]})})}),e.jsx("tr",{children:e.jsx("td",{className:`border border-black px-2 py-1 ${$()?"":"bg-red-200"}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"DIF"}),e.jsx("span",{className:"border-b border-black px-2 min-w-10 text-center inline-block",children:B()}),e.jsx("span",{children:"μm"})]})})}),e.jsxs("tr",{children:[e.jsxs("td",{className:"border border-black px-2 py-1 text-center",children:[e.jsx("div",{children:"PARALLEL"}),e.jsxs("div",{children:["MAX ",n," μm"]})]}),e.jsx("td",{className:`border border-black px-2 py-1 ${T()?"":"bg-red-200"}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"border-b border-black px-2 min-w-16 text-center inline-block",children:L()}),e.jsx("span",{children:"μm"})]})})]})]})]})})]})}function Br({dataX:t={},dataY:l={},onChangeX:r=()=>{},onChangeY:n=()=>{},standardX:d=20,standardY:s=20}){const f={tl:D.useRef(null),tc:D.useRef(null),tr:D.useRef(null),ml:D.useRef(null),mr:D.useRef(null),bl:D.useRef(null),bc:D.useRef(null),br:D.useRef(null)},x={tl:D.useRef(null),tc:D.useRef(null),tr:D.useRef(null),ml:D.useRef(null),mr:D.useRef(null),bl:D.useRef(null),bc:D.useRef(null),br:D.useRef(null)},j=["tl","tc","tr","ml","mr","bl","bc","br"],[C,R]=D.useState(null),[w,F]=D.useState(null),[A,I]=D.useState(""),E=["tl","tc","tr"],_=["ml","mc","mr"],B=["bl","bc","br"],$=a=>{const o=[0];return j.forEach(h=>{const g=parseFloat(a[h]);isNaN(g)||o.push(g)}),o},L=a=>{const o=$(a);if(o.length<2)return"";const h=Math.max(...o),g=Math.min(...o);return Math.abs(h-g).toFixed(1)},T=(a,o)=>G(L(a),{maxValue:o,validateStd:!0}),P=(a,o)=>{R(a),F(o),I((o==="x"?t:l)[a]||"")},y=a=>{I(oe(a))},p=a=>ye(a),N=(a,o)=>{const h=o==="x"?r:n,g=o==="x"?t:l,V=p(A),O={...g,[a]:V};h(O),R(null),F(null),I("")},v=(a,o)=>{C===a&&w===o&&N(a,o)},k=(a,o,h)=>{if(a.key==="Enter"){a.preventDefault(),N(o,h);const g=h==="x"?f:x,O=(j.indexOf(o)+1)%j.length,z=j[O];g[z]?.current&&g[z].current.focus()}},m=(a,o)=>pe(a,o),c=(a,o)=>C===a&&w===o?A:m((o==="x"?t:l)[a],o),i=(a,o)=>{const h=o==="x"?f:x;return a==="mc"?e.jsx("div",{className:"w-10 h-6 flex items-center justify-center text-xs font-bold",children:"0"}):e.jsx("input",{ref:h[a],type:"text",inputMode:"numeric",className:"w-10 h-6 border border-black text-center outline-none bg-transparent text-xs",value:c(a,o),onFocus:()=>P(a,o),onChange:g=>y(g.target.value),onBlur:()=>v(a,o),onKeyDown:g=>k(g,a,o)})},u=a=>{const o=a==="x"?t:l,h=a==="x"?d:s,g=T(o,h);return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"text-sm font-bold mb-2",children:a==="x"?"X - Axis":"Y - Axis"}),e.jsx("div",{className:"border border-black",children:e.jsx("table",{className:"border-collapse",children:e.jsxs("tbody",{children:[e.jsx("tr",{children:E.map(V=>e.jsx("td",{className:"border border-black p-0.5",children:i(V,a)},V))}),e.jsx("tr",{children:_.map(V=>e.jsx("td",{className:"border border-black p-0.5",children:i(V,a)},V))}),e.jsx("tr",{children:B.map(V=>e.jsx("td",{className:"border border-black p-0.5",children:i(V,a)},V))})]})})}),e.jsx("div",{className:"mt-2 h-12 flex items-center justify-center",children:e.jsx("div",{className:`border border-black flex items-center justify-center 
                        ${a==="x"?"px-6 py-1":"px-3 py-3"}`,children:a==="x"?e.jsx("span",{className:"text-xl",children:"↔"}):e.jsx("span",{className:"text-xl",children:"↕"})})}),e.jsxs("div",{className:`mt-3 text-xs ${g?"":"text-red-600 font-bold"}`,children:[e.jsxs("div",{children:[e.jsxs("span",{children:["Max dif ",a.toUpperCase()," = "]}),e.jsx("span",{className:"border-b border-black px-4 inline-block min-w-12 text-center",children:L(o)}),e.jsx("span",{children:" μm"})]}),e.jsxs("div",{className:"text-center text-gray-600 mt-1",children:["(STD: ≤ ",h," μm)"]})]})]})};return e.jsxs("div",{className:"flex gap-8 justify-center",children:[u("x"),u("y")]})}function qe({label:t,value:l,onChange:r,points:n,onPointChange:d,zeroX:s,polarity:f,axisLayout:x}){const[j,C]=D.useState(null),[R,w]=D.useState(""),F=D.useRef(null),[A,I]=D.useState(!1),E=3,_={top:15,mid1:40,mid2:65,bot:90},B=(y,p)=>{const v=(p===""||p===null||p===void 0?0:parseFloat(p)||0)*E*f;return{x:s+v,y:_[y]||25,isEmpty:p===""||p===null||p===void 0}};D.useEffect(()=>{const p=[n.top,n.mid1,n.mid2].filter(c=>c!==""&&c!==null&&c!==void 0).map(c=>parseFloat(c)||0);p.push(0);const N=Math.max(...p),v=Math.min(...p),k=Math.abs(N-v),m=Number.isInteger(k)?k.toString():k.toFixed(3).replace(/\.?0+$/,"");m!==l&&r(m)},[n,l,r]);const $=y=>{C(y),w(n[y].toString())},L=y=>{w(oe(y.target.value))},T=()=>{if(j){const y=parseFloat(R),p=isNaN(y)?0:y;d(j,p),C(null)}},P=y=>{y.key==="Enter"&&T()};return D.useEffect(()=>{j&&F.current&&F.current.focus()},[j]),e.jsxs("div",{className:"flex-1 p-1 relative",style:{minHeight:"140px"},children:[e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 200 130",onClick:()=>I(!1),children:[x==="leftStyle"&&e.jsxs(e.Fragment,{children:[e.jsx("line",{x1:s,y1:"15",x2:s,y2:"90",stroke:"black",strokeWidth:"1.5"}),e.jsx("line",{x1:s,y1:"90",x2:s+75,y2:"90",stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:s,y:"12",fontSize:"10",textAnchor:"middle",children:"Y"}),e.jsx("text",{x:s-8,y:"22",fontSize:"8",textAnchor:"end",children:"-"}),e.jsx("text",{x:s+8,y:"22",fontSize:"8",textAnchor:"start",children:"+"}),e.jsx("line",{x1:s+75,y1:"85",x2:s+75,y2:"95",stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:s,y:"103",fontSize:"8",textAnchor:"middle",children:"0"}),e.jsx("text",{x:s+5,y:"98",fontSize:"7",textAnchor:"start",children:"+"}),e.jsx("text",{x:s+75,y:"98",fontSize:"7",textAnchor:"middle",children:"-"})]}),x==="rightStyle"&&e.jsxs(e.Fragment,{children:[e.jsx("line",{x1:s,y1:"15",x2:s,y2:"90",stroke:"black",strokeWidth:"1.5"}),e.jsx("line",{x1:s-75,y1:"90",x2:s,y2:"90",stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:s,y:"12",fontSize:"10",textAnchor:"middle",children:"Y"}),e.jsx("text",{x:s+8,y:"22",fontSize:"8",textAnchor:"start",children:"-"}),e.jsx("text",{x:s-8,y:"22",fontSize:"8",textAnchor:"end",children:"+"}),e.jsx("line",{x1:s-75,y1:"85",x2:s-75,y2:"95",stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:s-75,y:"98",fontSize:"7",textAnchor:"middle",children:"-"}),e.jsx("text",{x:s,y:"103",fontSize:"8",textAnchor:"middle",children:"0"})]}),(()=>{const y=B("top",n.top),p=B("mid1",n.mid1),N=B("mid2",n.mid2),v=B("bot",0),k=`M ${y.x} ${y.y} L ${p.x} ${p.y} L ${N.x} ${N.y} L ${v.x} ${v.y}`;return e.jsxs(e.Fragment,{children:[e.jsx("path",{d:k,stroke:"transparent",strokeWidth:"20",fill:"none",className:"cursor-pointer",onClick:m=>{m.stopPropagation(),I(!0)}}),e.jsx("path",{d:k,stroke:"brown",strokeWidth:"1.5",fill:"none",className:"pointer-events-none"}),["top","mid1","mid2","bot"].map(m=>{const c=m==="bot",i=c?0:n[m],u=B(m,i),a=i!==""&&i!==null&&i!==void 0;return c?null:A?a?e.jsx("circle",{cx:u.x,cy:u.y,r:"5",fill:"brown",stroke:"white",className:"cursor-pointer",onClick:o=>{o.stopPropagation(),$(m)}},"p"+m):e.jsx("circle",{cx:u.x,cy:u.y,r:"5",fill:"transparent",stroke:"gray",strokeDasharray:"2,2",className:"cursor-pointer",onClick:o=>{o.stopPropagation(),$(m)}},"p"+m):e.jsx(Z.Fragment,{children:a&&e.jsx("text",{x:u.x+(f>0?10:-10),y:u.y+4,fontSize:"9",fill:"brown",textAnchor:f>0?"start":"end",className:"pointer-events-none",children:i})},"t"+m)})]})})()]}),e.jsxs("div",{className:"absolute bottom-2 left-2 flex items-end pointer-events-none",children:[e.jsxs("span",{className:"mr-1 text-sm",children:[t," ="]}),e.jsx("input",{type:"text",className:"w-12 border-b border-black text-center outline-none bg-transparent text-sm pointer-events-none",value:l||"",readOnly:!0}),e.jsx("span",{className:"ml-1 text-sm",children:"μm"})]}),j&&e.jsxs("div",{className:"absolute bg-white border border-gray-400 p-1 flex items-center shadow-md rounded",style:{left:`${B(j,n[j]).x/200*100}%`,top:`${B(j,n[j]).y/130*100}%`,transform:"translate(10px, -50%)",zIndex:10},children:[e.jsx("input",{ref:F,type:"text",className:"w-12 text-center outline-none border-b border-gray-300 text-sm",value:R,onChange:L,onKeyDown:P,onBlur:T}),e.jsx("span",{className:"text-xs ml-1",children:"μm"})]})]})}function _r({data:t={xMinus:"",xC:"",xPlus:""},onChange:l=()=>{},stdMinus:r=3,stdC:n=3,stdPlus:d=3,stdYawing:s=2,stdSquare:f=10}){const[x,j]=D.useState({xMinus:{top:"",mid1:"",mid2:""},xC:{top:"",mid1:"",mid2:""},xPlus:{top:"",mid1:"",mid2:""}}),[C,R]=D.useState("0"),[w,F]=D.useState(!0),[A,I]=D.useState(!0),[E,_]=D.useState(!0),[B,$]=D.useState(!0),[L,T]=D.useState(!0),P=(y,p,N)=>{j(v=>({...v,[y]:{...v[y],[p]:N}}))};return D.useEffect(()=>{const y=u=>u===""||u===null||u===void 0?null:parseFloat(u)||0,N=[y(x.xMinus.top),y(x.xMinus.mid1),y(x.xMinus.mid2),y(x.xC.top),y(x.xC.mid1),y(x.xC.mid2),y(x.xPlus.top)!==null?-y(x.xPlus.top):null,y(x.xPlus.mid1)!==null?-y(x.xPlus.mid1):null,y(x.xPlus.mid2)!==null?-y(x.xPlus.mid2):null].filter(u=>u!==null);N.push(0);const v=Math.max(...N),k=Math.min(...N),m=Math.abs(v-k),c=Number.isInteger(m)?m.toString():m.toFixed(3).replace(/\.?0+$/,"");R(c),F(G(m,{maxValue:s,validateStd:!0}));const i=parseFloat(t.xC)||0;T(G(i,{maxValue:f,useAbs:!0,validateStd:!0}))},[x,s,t.xC,f]),D.useEffect(()=>{const y=N=>N===""||N===null||N===void 0?null:parseFloat(N)||0,p=N=>{const v=[y(N.top),y(N.mid1),y(N.mid2)].filter(k=>k!==null);return v.push(0),Math.abs(Math.max(...v)-Math.min(...v))};I(G(p(x.xMinus),{maxValue:r,validateStd:!0})),_(G(p(x.xC),{maxValue:n,validateStd:!0})),$(G(p(x.xPlus),{maxValue:d,validateStd:!0}))},[x,r,n,d]),e.jsxs("div",{className:"flex flex-col border border-black w-[160mm] bg-white",children:[e.jsxs("div",{className:"flex w-full",children:[e.jsx("div",{className:`flex-1 ${A?"":"bg-red-100"} mb-5`,children:e.jsx(qe,{label:"X -",value:t.xMinus,onChange:y=>l("xMinus",y),points:x.xMinus,onPointChange:(y,p)=>P("xMinus",y,p),zeroX:40,polarity:1,axisLayout:"leftStyle"})}),e.jsx("div",{className:`flex-1 ${E?"":"bg-red-100"}`,children:e.jsx(qe,{label:"Xc",value:t.xC,onChange:y=>l("xC",y),points:x.xC,onPointChange:(y,p)=>P("xC",y,p),zeroX:40,polarity:1,axisLayout:"leftStyle"})}),e.jsx("div",{className:`flex-1 ${B?"":"bg-red-100"}`,children:e.jsx(qe,{label:"X+",value:t.xPlus,onChange:y=>l("xPlus",y),points:x.xPlus,onPointChange:(y,p)=>P("xPlus",y,p),zeroX:160,polarity:-1,axisLayout:"rightStyle"})})]}),e.jsxs("div",{className:"flex w-full",children:[e.jsxs("div",{className:"flex-1 p-3 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"mr-2 text-sm",children:"Square Y ="}),e.jsx("span",{className:`border-b border-black px-3 min-w-[50px] text-center ${L?"":"bg-red-200 text-red-600"}`,children:t.xC||"0"}),e.jsx("span",{className:"ml-1 text-sm",children:"μm"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2 text-sm",children:"Yawing X ="}),e.jsx("span",{className:`border-b border-black px-3 min-w-[50px] text-center ${w?"":"bg-red-200 text-red-600"}`,children:C||"0"}),e.jsx("span",{className:"ml-1 text-sm",children:"μm"})]})]}),e.jsxs("div",{className:"flex-1 p-3 flex flex-col justify-center",children:[e.jsx("div",{className:"text-sm font-bold mb-2",children:"SQUARE SIDE"}),e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("span",{className:"text-sm mr-2",children:"X ="}),e.jsx("div",{className:"flex space-x-2 text-sm",children:["A","B","C","D"].map(y=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"edmYawingX_squareSideX",value:y,checked:t.squareSideX===y,onChange:()=>l("squareSideX",y),className:"mr-0.5"}),e.jsx("span",{children:y})]},"x"+y))})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm mr-2",children:"Y ="}),e.jsx("div",{className:"flex space-x-2 text-sm",children:["A","B","C","D"].map(y=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"edmYawingX_squareSideY",value:y,checked:t.squareSideY===y,onChange:()=>l("squareSideY",y),className:"mr-0.5"}),e.jsx("span",{children:y})]},"y"+y))})]}),e.jsx(Te,{label:"SQUARE NO.",value:t.squareNo||"",onChange:y=>l("squareNo",y),labelClass:"text-xs",inputClass:"w-16 text-xs"}),e.jsx(Te,{label:"DIAL GAUGE NO.",value:t.dialGaugeNo||"",onChange:y=>l("dialGaugeNo",y),labelClass:"text-xs",inputClass:"w-16 text-xs"})]})]})]})}function Ye({label:t,value:l,onChange:r,points:n,onPointChange:d,zeroY:s,polarity:f,axisLayout:x}){const[j,C]=D.useState(null),[R,w]=D.useState(""),F=D.useRef(null),[A,I]=D.useState(!1),E=3,_={left:20,mid1:45,mid2:70,right:95},B=(y,p)=>{const v=(p===""||p===null||p===void 0?0:parseFloat(p)||0)*E*f;return{x:_[y]||25,y:s+v,isEmpty:p===""||p===null||p===void 0}};D.useEffect(()=>{const p=[n.mid1,n.mid2,n.right].filter(c=>c!==""&&c!==null&&c!==void 0).map(c=>parseFloat(c)||0);p.push(0);const N=Math.max(...p),v=Math.min(...p),k=Math.abs(N-v),m=Number.isInteger(k)?k.toString():k.toFixed(3).replace(/\.?0+$/,"");m!==l&&r(m)},[n,l,r]);const $=y=>{C(y),w(n[y].toString())},L=y=>{w(oe(y.target.value))},T=()=>{if(j){const y=parseFloat(R),p=isNaN(y)?0:y;d(j,p),C(null)}},P=y=>{y.key==="Enter"&&T()};return D.useEffect(()=>{j&&F.current&&F.current.focus()},[j]),e.jsxs("div",{className:"p-1 relative flex-1",style:{minHeight:"130px"},children:[e.jsxs("svg",{width:"100%",height:"80%",viewBox:"0 0 180 100",onClick:()=>I(!1),children:[x==="topStyle"&&e.jsxs(e.Fragment,{children:[e.jsx("line",{x1:"20",y1:s,x2:95,y2:s,stroke:"black",strokeWidth:"1.5"}),e.jsx("line",{x1:"20",y1:s,x2:"20",y2:s+75,stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:"10",y:s+5,fontSize:"10",textAnchor:"middle",children:"Y"}),e.jsx("text",{x:"10",y:s-5,fontSize:"8",textAnchor:"middle",children:"-"}),e.jsx("text",{x:"30",y:s-5,fontSize:"8",textAnchor:"middle",children:"+"}),e.jsx("line",{x1:95,y1:s-5,x2:95,y2:s+5,stroke:"black",strokeWidth:"1.5"}),e.jsx("line",{x1:"15",y1:s+75,x2:"25",y2:s+75,stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:"20",y:s+12,fontSize:"8",textAnchor:"middle",children:"0"}),e.jsx("text",{x:"28",y:s+75,fontSize:"7",textAnchor:"start",children:"+"}),e.jsx("text",{x:95,y:s+12,fontSize:"7",textAnchor:"middle",children:"-"})]}),x==="bottomAxisStyle"&&e.jsxs(e.Fragment,{children:[e.jsx("line",{x1:"20",y1:s,x2:95,y2:s,stroke:"black",strokeWidth:"1.5"}),e.jsx("line",{x1:"20",y1:s,x2:"20",y2:s-75,stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:"10",y:s+5,fontSize:"10",textAnchor:"middle",children:"Y"}),e.jsx("text",{x:"10",y:s+12,fontSize:"8",textAnchor:"middle",children:"-"}),e.jsx("text",{x:"30",y:s+12,fontSize:"8",textAnchor:"middle",children:"+"}),e.jsx("line",{x1:95,y1:s-5,x2:95,y2:s+5,stroke:"black",strokeWidth:"1.5"}),e.jsx("line",{x1:"15",y1:s-75,x2:"25",y2:s-75,stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:"20",y:s-5,fontSize:"8",textAnchor:"middle",children:"0"}),e.jsx("text",{x:"28",y:s-75+10,fontSize:"7",textAnchor:"start",children:"+"}),e.jsx("text",{x:95,y:s-5,fontSize:"7",textAnchor:"middle",children:"-"})]}),x==="bottomStyle"&&e.jsxs(e.Fragment,{children:[e.jsx("line",{x1:"20",y1:s,x2:95,y2:s,stroke:"black",strokeWidth:"1.5"}),e.jsx("line",{x1:"20",y1:s,x2:"20",y2:s-75,stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:"10",y:s+5,fontSize:"10",textAnchor:"middle",children:"Y"}),e.jsx("text",{x:"10",y:s+12,fontSize:"8",textAnchor:"middle",children:"+"}),e.jsx("text",{x:"30",y:s+12,fontSize:"8",textAnchor:"middle",children:"-"}),e.jsx("line",{x1:95,y1:s-5,x2:95,y2:s+5,stroke:"black",strokeWidth:"1.5"}),e.jsx("line",{x1:"15",y1:s-75,x2:"25",y2:s-75,stroke:"black",strokeWidth:"1.5"}),e.jsx("text",{x:"20",y:s-5,fontSize:"8",textAnchor:"middle",children:"0"}),e.jsx("text",{x:"28",y:s-75+10,fontSize:"7",textAnchor:"start",children:"-"}),e.jsx("text",{x:95,y:s-5,fontSize:"7",textAnchor:"middle",children:"+"})]}),(()=>{const y=B("left",0),p=B("mid1",n.mid1),N=B("mid2",n.mid2),v=B("right",n.right),k=`M ${y.x} ${y.y} L ${p.x} ${p.y} L ${N.x} ${N.y} L ${v.x} ${v.y}`;return e.jsxs(e.Fragment,{children:[e.jsx("path",{d:k,stroke:"transparent",strokeWidth:"20",fill:"none",className:"cursor-pointer",onClick:m=>{m.stopPropagation(),I(!0)}}),e.jsx("path",{d:k,stroke:"brown",strokeWidth:"1.5",fill:"none",className:"pointer-events-none"}),["left","mid1","mid2","right"].map(m=>{const c=m==="left",i=c?0:n[m],u=B(m,i),a=i!==""&&i!==null&&i!==void 0;return c?null:A?a?e.jsx("circle",{cx:u.x,cy:u.y,r:"5",fill:"brown",stroke:"white",className:"cursor-pointer",onClick:o=>{o.stopPropagation(),$(m)}},"p"+m):e.jsx("circle",{cx:u.x,cy:u.y,r:"5",fill:"transparent",stroke:"gray",strokeDasharray:"2,2",className:"cursor-pointer",onClick:o=>{o.stopPropagation(),$(m)}},"p"+m):e.jsx(Z.Fragment,{children:a&&e.jsx("text",{x:u.x,y:u.y+(f>0?15:-8),fontSize:"9",fill:"brown",textAnchor:"middle",className:"pointer-events-none",children:i})},"t"+m)})]})})()]}),e.jsxs("div",{className:"absolute bottom-0 left-2 flex items-end pointer-events-none",children:[e.jsxs("span",{className:"mr-1 text-sm",children:[t," ="]}),e.jsx("input",{type:"text",className:"w-12 border-b border-black text-center outline-none bg-transparent text-sm pointer-events-none",value:l||"",readOnly:!0}),e.jsx("span",{className:"ml-1 text-sm",children:"μm"})]}),j&&e.jsxs("div",{className:"absolute bg-white border border-gray-400 p-1 flex items-center shadow-md rounded",style:{left:`${B(j,n[j]).x/180*100}%`,top:`${B(j,n[j]).y/100*100}%`,transform:"translate(-50%, 10px)",zIndex:10},children:[e.jsx("input",{ref:F,type:"text",className:"w-12 text-center outline-none border-b border-gray-300 text-sm",value:R,onChange:L,onKeyDown:P,onBlur:T}),e.jsx("span",{className:"text-xs ml-1",children:"μm"})]})]})}function Ir({data:t={yPlus:"",yC:"",yMinus:""},onChange:l=()=>{},stdPlus:r=3,stdC:n=3,stdMinus:d=3,stdYawing:s=2,stdSquare:f=10}){const[x,j]=D.useState({yPlus:{mid1:"",mid2:"",right:""},yC:{mid1:"",mid2:"",right:""},yMinus:{mid1:"",mid2:"",right:""}}),[C,R]=D.useState("0"),[w,F]=D.useState(!0),[A,I]=D.useState(!0),[E,_]=D.useState(!0),[B,$]=D.useState(!0),[L,T]=D.useState(!0),P=(y,p,N)=>{j(v=>({...v,[y]:{...v[y],[p]:N}}))};return D.useEffect(()=>{const y=u=>u===""||u===null||u===void 0?null:parseFloat(u)||0,N=[y(x.yPlus.mid1),y(x.yPlus.mid2),y(x.yPlus.right),y(x.yC.mid1)!==null?-y(x.yC.mid1):null,y(x.yC.mid2)!==null?-y(x.yC.mid2):null,y(x.yC.right)!==null?-y(x.yC.right):null,y(x.yMinus.mid1)!==null?-y(x.yMinus.mid1):null,y(x.yMinus.mid2)!==null?-y(x.yMinus.mid2):null,y(x.yMinus.right)!==null?-y(x.yMinus.right):null].filter(u=>u!==null);N.push(0);const v=Math.max(...N),k=Math.min(...N),m=Math.abs(v-k),c=Number.isInteger(m)?m.toString():m.toFixed(3).replace(/\.?0+$/,"");R(c),F(G(m,{maxValue:s,validateStd:!0}));const i=parseFloat(t.yC)||0;T(G(i,{maxValue:f,useAbs:!0,validateStd:!0}))},[x,s,t.yC,f]),D.useEffect(()=>{const y=N=>N===""||N===null||N===void 0?null:parseFloat(N)||0,p=N=>{const v=[y(N.mid1),y(N.mid2),y(N.right)].filter(k=>k!==null);return v.push(0),Math.abs(Math.max(...v)-Math.min(...v))};I(G(p(x.yPlus),{maxValue:r,validateStd:!0})),_(G(p(x.yC),{maxValue:n,validateStd:!0})),$(G(p(x.yMinus),{maxValue:d,validateStd:!0}))},[x,r,n,d]),e.jsxs("div",{className:"flex border border-black w-[100mm] h-[110mm] bg-white",children:[e.jsxs("div",{className:"flex flex-col",style:{width:"200px"},children:[e.jsx("div",{className:`${A?"":"bg-red-100"}`,children:e.jsx(Ye,{label:"Y +",value:t.yPlus,onChange:y=>l("yPlus",y),points:x.yPlus,onPointChange:(y,p)=>P("yPlus",y,p),zeroY:20,polarity:1,axisLayout:"topStyle"})}),e.jsx("div",{className:`${E?"":"bg-red-100"}`,children:e.jsx(Ye,{label:"Yc",value:t.yC,onChange:y=>l("yC",y),points:x.yC,onPointChange:(y,p)=>P("yC",y,p),zeroY:85,polarity:-1,axisLayout:"bottomAxisStyle"})}),e.jsx("div",{className:`${B?"":"bg-red-100"}`,children:e.jsx(Ye,{label:"Y -",value:t.yMinus,onChange:y=>l("yMinus",y),points:x.yMinus,onPointChange:(y,p)=>P("yMinus",y,p),zeroY:85,polarity:-1,axisLayout:"bottomStyle"})})]}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsxs("div",{className:"flex-1 p-3 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"mr-2 text-sm",children:"Square X ="}),e.jsx("span",{className:`border-b border-black px-3 min-w-[50px] text-center ${L?"":"bg-red-200 text-red-600"}`,children:t.yC||"0"}),e.jsx("span",{className:"ml-1 text-sm",children:"μm"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2 text-sm",children:"Yawing Y ="}),e.jsx("span",{className:`border-b border-black px-3 min-w-[50px] text-center ${w?"":"bg-red-200 text-red-600"}`,children:C||"0"}),e.jsx("span",{className:"ml-1 text-sm",children:"μm"})]})]}),e.jsxs("div",{className:"flex-1 p-3 flex flex-col justify-center",children:[e.jsx("div",{className:"text-sm font-bold mb-2",children:"SQUARE SIDE"}),e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("span",{className:"text-sm mr-2",children:"X ="}),e.jsx("div",{className:"flex space-x-2 text-sm",children:["A","B","C","D"].map(y=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"edmYawingY_squareSideX",value:y,checked:t.squareSideX===y,onChange:()=>l("squareSideX",y),className:"mr-0.5"}),e.jsx("span",{children:y})]},"x"+y))})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm mr-2",children:"Y ="}),e.jsx("div",{className:"flex space-x-2 text-sm",children:["A","B","C","D"].map(y=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"edmYawingY_squareSideY",value:y,checked:t.squareSideY===y,onChange:()=>l("squareSideY",y),className:"mr-0.5"}),e.jsx("span",{children:y})]},"y"+y))})]}),e.jsx(Te,{label:"SQUARE NO.",value:t.squareNo||"",onChange:y=>l("squareNo",y),labelClass:"text-xs",inputClass:"w-16 text-xs"}),e.jsx(Te,{label:"DIAL GAUGE NO.",value:t.dialGaugeNo||"",onChange:y=>l("dialGaugeNo",y),labelClass:"text-xs",inputClass:"w-16 text-xs"})]})]})]})}function Tr({title:t="Straight of X Axis",rowCount:l=31,strokeStep:r=20,data:n={},onChange:d=()=>{},standard:s=3}){const{moveFocus:f,focusNext:x}=fe(),j=D.useRef([]),[C,R]=D.useState(null),[w,F]=D.useState(0),[A,I]=D.useState(!0),E=Array.from({length:l},(c,i)=>i),_=(c,i)=>{const u=oe(i),a={...n,[c]:u};d(a)},B=(c,i)=>{c.key==="Enter"||c.key==="Tab"?f(c,i,j.current,{direction:1}):c.key==="ArrowUp"?(c.preventDefault(),x(i,j.current,{direction:1})):c.key==="ArrowDown"&&(c.preventDefault(),x(i,j.current,{direction:-1}))};D.useEffect(()=>{j.current[0]&&j.current[0].focus()},[]),D.useEffect(()=>{const c=Object.values(n).filter(i=>i!==""&&i!==void 0&&i!==null).map(i=>parseFloat(i)||0);if(c.length>0){const i=Math.max(...c),u=Math.min(...c),a=Math.abs(i-u);F(a),I(G(a,{maxDiff:s,useAbs:!0}))}else F(0),I(!0)},[n,s]);const $=10,L=110,T=L/2,P=L-$*2,y=c=>{const i=parseFloat(c)||0,u=Math.max(-5,Math.min(5,i));return T-u*(P/10)},p=16,N=24,v=14,k=l*p,m=N+k+v;return e.jsxs("div",{className:"border border-black bg-white",style:{width:"280px"},children:[e.jsxs("div",{className:"border-b border-black px-2 py-1 text-sm font-medium flex justify-between items-center",children:[e.jsx("span",{children:t}),e.jsxs("span",{className:`px-2 py-0.5 ${A?"":"bg-red-200 text-red-600"}`,children:["Diff: ",w.toFixed(1)," / STD: ",s]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex border-b border-black",style:{height:`${N}px`},children:[e.jsx("div",{className:"w-8 border-r border-black flex items-center justify-center text-xs"}),e.jsx("div",{className:"w-10 border-r border-black flex items-center justify-center text-xs"}),e.jsx("div",{className:"w-12 border-r border-black flex items-center justify-center text-xs"})]}),[...E].reverse().map(c=>e.jsxs("div",{className:"flex border-b border-black",style:{height:`${p}px`},children:[e.jsx("div",{className:"w-8 border-r border-black flex items-center justify-center text-xs",children:c}),e.jsx("div",{className:"w-10 border-r border-black flex items-center justify-center text-xs",children:c*r}),e.jsx("div",{className:"w-12 border-r border-black flex items-center justify-center",children:e.jsx("input",{ref:i=>j.current[c]=i,type:"text",className:"w-full h-full text-center text-xs outline-none bg-transparent",value:n[c]||"",onChange:i=>_(c,i.target.value),onKeyDown:i=>B(i,c),onFocus:()=>R(c)})})]},c))]}),e.jsx("div",{className:"flex-1 relative",children:e.jsxs("svg",{width:"100%",height:m,viewBox:`0 0 ${L} ${m}`,preserveAspectRatio:"none",children:[[-5,-4,-3,-2,-1,0,1,2,3,4,5].map(c=>{const i=y(c);return e.jsx("line",{x1:i,y1:N,x2:i,y2:N+k,stroke:"#ccc",strokeWidth:"0.5"},`grid-${c}`)}),e.jsx("line",{x1:T,y1:N,x2:T,y2:N+k,stroke:"#666",strokeWidth:"1"}),e.jsx("line",{x1:0,y1:N+k,x2:L,y2:N+k,stroke:"black",strokeWidth:"1"}),E.map(c=>{const i=N+(l-1-c)*p;return e.jsx("line",{x1:0,y1:i,x2:L,y2:i,stroke:"#eee",strokeWidth:"0.5"},`hgrid-${c}`)}),(()=>{const c=E.filter(u=>n[u]!==void 0&&n[u]!=="").map(u=>{const a=y(n[u]),o=N+k-u*p;return{x:a,y:o,idx:u}}).sort((u,a)=>u.idx-a.idx);if(c.length<2)return null;const i=c.map((u,a)=>a===0?`M ${u.x} ${u.y}`:`L ${u.x} ${u.y}`).join(" ");return e.jsx("path",{d:i,stroke:"brown",strokeWidth:"1.5",fill:"none"})})(),E.map(c=>{const i=n[c];if(i===void 0||i==="")return null;const u=y(i),a=N+k-c*p;return e.jsx("circle",{cx:u,cy:a,r:"2",fill:"brown"},`point-${c}`)}),[5,4,3,2,1,0,-1,-2,-3,-4,-5].map(c=>{const i=y(c);return e.jsx("text",{x:i,y:N+k+10,fontSize:"7",textAnchor:"middle",fill:"#333",children:c},`label-${c}`)})]})})]})]})}function Pr({data:t={b:[],t:[]},onChange:l=()=>{},standard:r={min:-20,max:20},referenceCol:n=1}){const s=["X+","X0","X-"],{moveFocus:f}=fe(),x=D.useRef([]),j=D.useRef([]),[C,R]=D.useState(null),[w,F]=D.useState(""),A=a=>pe(a,"x"),I=a=>ye(a),E=(a,o)=>{const g=(t[a]||[])[o]||"";R({row:a,index:o}),F(g)},_=a=>{F(oe(a))},B=D.useRef(!1),$=(a,o)=>{const h=I(w),g={...t};g[a]||(g[a]=[]),g[a][o]=h,l(g),R(null),F("")},L=(a,o)=>{if(B.current){B.current=!1;return}C&&C.row===a&&C.index===o&&$(a,o)},T=(a,o,h)=>{a.key==="Enter"&&(B.current=!0,$(o,h),o==="b"?f(a,h,x.current,{direction:1,onBoundary:()=>{f(a,-1,j.current,{direction:1})}}):o==="t"&&f(a,h,j.current,{direction:1}))},P=(a,o)=>{if(C&&C.row===a&&C.index===o)return w;const g=t[a]||[];return A(g[o])},y=(a,o)=>{const h=t[a]||[];return G(h[o],{min:r.min,max:r.max,validateStd:!0})},p=a=>{const o=parseFloat((t.b||[])[a]),h=parseFloat((t.t||[])[a]);return isNaN(o)||isNaN(h)?!0:G(o-h,{min:r.min,max:r.max,validateStd:!0})},N=a=>{const o=parseFloat((t.b||[])[a]),h=parseFloat((t.t||[])[a]);if(isNaN(o)||isNaN(h))return"";const g=o-h;if(g===0)return"0";const V=Math.abs(g).toFixed(2).replace(/\.?0+$/,"");return g>0?`${V}→`:`←${V}`},v=()=>s.map((a,o)=>e.jsx("th",{className:"border border-black p-1 w-16 text-center",children:a},o)),k=()=>{const a=[];for(let o=0;o<3;o++){const h=o===n,g=h?!0:y("b",o);h?a.push(e.jsx("td",{className:"border border-black p-1 text-center text-sm bg-gray-50",children:"←0→"},o)):a.push(e.jsx("td",{className:`border border-black p-1 ${g?"":"bg-red-200"}`,children:e.jsx("input",{ref:V=>x.current[o]=V,type:"text",inputMode:"numeric",value:P("b",o),onFocus:()=>E("b",o),onChange:V=>_(V.target.value),onBlur:()=>L("b",o),onKeyDown:V=>T(V,"b",o),className:"w-full h-full text-center bg-transparent outline-none text-sm"})},o))}return a},m=()=>{const a=[];for(let o=0;o<3;o++){const h=o===n,g=h?!0:y("t",o);h?a.push(e.jsx("td",{className:"border border-black p-1 text-center text-sm bg-gray-50",children:"←0→"},o)):a.push(e.jsx("td",{className:`border border-black p-1 ${g?"":"bg-red-200"}`,children:e.jsx("input",{ref:V=>j.current[o]=V,type:"text",inputMode:"numeric",value:P("t",o),onFocus:()=>E("t",o),onChange:V=>_(V.target.value),onBlur:()=>L("t",o),onKeyDown:V=>T(V,"t",o),className:"w-full h-full text-center bg-transparent outline-none text-sm"})},o))}return a},c=()=>{const a=[];for(let o=0;o<3;o++){const h=o===n,g=h?!0:p(o);a.push(e.jsx("td",{className:`border border-black p-1 text-center text-sm ${g?"":"bg-red-200"}`,children:h?"←0→":N(o)},o))}return a},i=()=>{const a=[];for(let g=0;g<3;g++){if(g===n){a.push(0);continue}const V=parseFloat((t.b||[])[g]),O=parseFloat((t.t||[])[g]);!isNaN(V)&&!isNaN(O)&&a.push(V-O)}if(a.length<2)return"";const o=Math.max(...a),h=Math.min(...a);return Math.abs(o-h).toFixed(2).replace(/\.?0+$/,"")},u=()=>G(i(),{maxValue:r.max,validateStd:!0,useAbs:!0});return e.jsxs("div",{children:[e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black p-1 w-12 text-center bg-gray-50"}),v()]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:"B"}),k()]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:"T"}),m()]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:"DIFF"}),c()]})]})]}),e.jsxs("div",{className:"mt-1 flex items-center text-sm",children:[e.jsx("span",{className:"font-medium mr-2",children:"DATA PITCHING - X ="}),e.jsx("span",{className:`border-b border-black min-w-16 text-center ${u()?"":"bg-red-200"}`,children:i()})]})]})}function Or({data:t={b:[],t:[]},onChange:l=()=>{},standard:r={min:-20,max:20},referenceCol:n=1,showRowT:d=!0,showRowDiff:s=!0}){const x=["X+","X0","X-"],{moveFocus:j}=fe(),C=D.useRef([]),R=D.useRef([]),[w,F]=D.useState(null),[A,I]=D.useState(""),E=h=>pe(h,"y"),_=h=>ye(h),B=(h,g)=>{const O=(t[h]||[])[g]||"";F({row:h,index:g}),I(O)},$=h=>{I(oe(h))},L=D.useRef(!1),T=(h,g)=>{const V=_(A),O={...t};O[h]||(O[h]=[]),O[h][g]=V,l(O),F(null),I("")},P=(h,g)=>{if(L.current){L.current=!1;return}w&&w.row===h&&w.index===g&&T(h,g)},y=(h,g,V)=>{h.key==="Enter"&&(L.current=!0,T(g,V),g==="b"?j(h,V,C.current,{direction:1,onBoundary:()=>j(h,-1,R.current,{direction:1})}):g==="t"&&j(h,V,R.current,{direction:1}))},p=(h,g)=>{if(w&&w.row===h&&w.index===g)return A;const O=t[h]||[];return E(O[g])},N=(h,g)=>{const V=t[h]||[];return G(V[g],{min:r.min,max:r.max,validateStd:!0})},v=h=>{const g=parseFloat((t.b||[])[h]),V=parseFloat((t.t||[])[h]);return isNaN(g)||isNaN(V)?!0:G(g-V,{min:r.min,max:r.max,validateStd:!0})},k=h=>{const g=parseFloat((t.b||[])[h]),V=parseFloat((t.t||[])[h]);if(isNaN(g)||isNaN(V))return"";const O=g-V;if(O===0)return"0";const z=Math.abs(O).toFixed(2).replace(/\.?0+$/,"");return O>0?`${z}↑`:`${z}↓`},m=()=>x.map((h,g)=>e.jsx("th",{className:"border border-black p-1 w-16 text-center",children:h},g)),c=()=>{const h=[];for(let g=0;g<3;g++){const V=g===n,O=V?!0:N("b",g);V?h.push(e.jsx("td",{className:"border border-black p-1 text-center text-sm bg-gray-50",children:"0↕"},g)):h.push(e.jsx("td",{className:`border border-black p-1 ${O?"":"bg-red-200"}`,children:e.jsx("input",{ref:z=>C.current[g]=z,type:"text",inputMode:"numeric",value:p("b",g),onFocus:()=>B("b",g),onChange:z=>$(z.target.value),onBlur:()=>P("b",g),onKeyDown:z=>y(z,"b",g),className:"w-full h-full text-center bg-transparent outline-none text-sm"})},g))}return h},i=()=>{const h=[];for(let g=0;g<3;g++){const V=g===n,O=V?!0:N("t",g);V?h.push(e.jsx("td",{className:"border border-black p-1 text-center text-sm bg-gray-50",children:"0↕"},g)):h.push(e.jsx("td",{className:`border border-black p-1 ${O?"":"bg-red-200"}`,children:e.jsx("input",{ref:z=>R.current[g]=z,type:"text",inputMode:"numeric",value:p("t",g),onFocus:()=>B("t",g),onChange:z=>$(z.target.value),onBlur:()=>P("t",g),onKeyDown:z=>y(z,"t",g),className:"w-full h-full text-center bg-transparent outline-none text-sm"})},g))}return h},u=()=>{const h=[];for(let g=0;g<3;g++){const V=g===n,O=V?!0:v(g);h.push(e.jsx("td",{className:`border border-black p-1 text-center text-sm ${O?"":"bg-red-200"}`,children:V?"0↕":k(g)},g))}return h},a=()=>{const h=[];for(let O=0;O<3;O++){if(O===n){h.push(0);continue}if(d){const z=parseFloat((t.b||[])[O]),ce=parseFloat((t.t||[])[O]);!isNaN(z)&&!isNaN(ce)&&h.push(z-ce)}else{const z=parseFloat((t.b||[])[O]);isNaN(z)||h.push(z)}}if(h.length<2)return"";const g=Math.max(...h),V=Math.min(...h);return Math.abs(g-V).toFixed(2).replace(/\.?0+$/,"")},o=()=>G(a(),{maxValue:r.max,validateStd:!0,useAbs:!0});return e.jsxs("div",{children:[e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black p-1 w-12 text-center bg-gray-50"}),m()]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:"B"}),c()]}),d&&e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:"T"}),i()]}),s&&e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:"DIFF"}),u()]})]})]}),e.jsxs("div",{className:"mt-1 flex items-center text-sm",children:[e.jsx("span",{className:"font-medium mr-2",children:"DATA ROLLING - X ="}),e.jsx("span",{className:`border-b border-black min-w-16 text-center ${o()?"":"bg-red-200"}`,children:a()})]})]})}function Lr({data:t={b:[],c:[]},onChange:l=()=>{},standard:r={min:-20,max:20},referenceRow:n=1}){const{moveFocus:d}=fe(),s=3,f=["Y+","0","Y-"],x=D.useRef([]),j=D.useRef([]),[C,R]=D.useState(null),[w,F]=D.useState(""),A=c=>pe(c,"y"),I=c=>ye(c),E=(c,i)=>{const a=(t[c]||[])[i]||"";R({col:c,index:i}),F(a)},_=c=>{F(oe(c))},B=D.useRef(!1),$=(c,i)=>{const u=I(w),a={...t};a[c]||(a[c]=[]),a[c][i]=u,l(a),R(null),F("")},L=(c,i)=>{if(B.current){B.current=!1;return}C&&C.col===c&&C.index===i&&$(c,i)},T=(c,i,u)=>{c.key==="Enter"&&(B.current=!0,$(i,u),i==="b"?d(c,u,x.current,{direction:1,onBoundary:()=>d(c,-1,j.current,{direction:1})}):i==="c"&&d(c,u,j.current,{direction:1}))},P=(c,i)=>{if(C&&C.col===c&&C.index===i)return w;const a=t[c]||[];return A(a[i])},y=(c,i)=>{const u=t[c]||[];return G(u[i],{min:r.min,max:r.max,validateStd:!0})},p=c=>{const i=parseFloat((t.b||[])[c]),u=parseFloat((t.c||[])[c]);return isNaN(i)||isNaN(u)?!0:G(i-u,{min:r.min,max:r.max,validateStd:!0})},N=c=>{const i=parseFloat((t.b||[])[c]),u=parseFloat((t.c||[])[c]);if(isNaN(i)||isNaN(u))return"";const a=i-u;if(a===0)return"0";const o=Math.abs(a).toFixed(2).replace(/\.?0+$/,"");return a>0?`${o}↑`:`${o}↓`},v=()=>{const c=[];for(let a=0;a<s;a++){if(a===n){c.push(0);continue}const o=parseFloat((t.b||[])[a]),h=parseFloat((t.c||[])[a]);!isNaN(o)&&!isNaN(h)&&c.push(o-h)}if(c.length<2)return"";const i=Math.max(...c),u=Math.min(...c);return Math.abs(i-u).toFixed(2).replace(/\.?0+$/,"")},k=()=>G(v(),{maxValue:r.max,validateStd:!0,useAbs:!0}),m=()=>{const c=[];for(let i=0;i<s;i++){const u=i===n,a=u?!0:y("b",i),o=u?!0:y("c",i);u?c.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:f[i]}),e.jsx("td",{className:"border border-black p-1 text-center text-sm bg-gray-50",children:"0↕"}),e.jsx("td",{className:"border border-black p-1 text-center text-sm bg-gray-50",children:"0↕"}),e.jsx("td",{className:"border border-black p-1 text-center text-sm",children:"0↕"})]},i)):c.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:f[i]}),e.jsx("td",{className:`border border-black p-1 ${a?"":"bg-red-200"}`,children:e.jsx("input",{ref:h=>x.current[i]=h,type:"text",inputMode:"numeric",value:P("b",i),onFocus:()=>E("b",i),onChange:h=>_(h.target.value),onBlur:()=>L("b",i),onKeyDown:h=>T(h,"b",i),className:"w-full h-full text-center bg-transparent outline-none text-sm"})}),e.jsx("td",{className:`border border-black p-1 ${o?"":"bg-red-200"}`,children:e.jsx("input",{ref:h=>j.current[i]=h,type:"text",inputMode:"numeric",value:P("c",i),onFocus:()=>E("c",i),onChange:h=>_(h.target.value),onBlur:()=>L("c",i),onKeyDown:h=>T(h,"c",i),className:"w-full h-full text-center bg-transparent outline-none text-sm"})}),e.jsx("td",{className:`border border-black p-1 text-center text-sm ${p(i)?"":"bg-red-200"}`,children:N(i)})]},i))}return c};return e.jsxs("div",{children:[e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black p-1 w-10 text-center bg-gray-50"}),e.jsx("th",{className:"border border-black p-1 w-16 text-center",children:"B"}),e.jsx("th",{className:"border border-black p-1 w-16 text-center",children:"C"}),e.jsx("th",{className:"border border-black p-1 w-16 text-center",children:"DIFF"})]})}),e.jsx("tbody",{children:m()})]}),e.jsxs("div",{className:"mt-1 flex items-center text-sm",children:[e.jsx("span",{className:"font-medium mr-2",children:"DATA PITCHING - Y ="}),e.jsx("span",{className:`border-b border-black min-w-16 text-center ${k()?"":"bg-red-200"}`,children:v()})]})]})}function Kr({data:t={b:[],c:[]},onChange:l=()=>{},standard:r={min:-20,max:20},referenceRow:n=1,showColC:d=!0,showColDiff:s=!0}){const{moveFocus:f}=fe(),x=3,j=["Y+","0","Y-"],C=D.useRef([]),R=D.useRef([]),[w,F]=D.useState(null),[A,I]=D.useState(""),E=u=>pe(u,"x"),_=u=>ye(u),B=(u,a)=>{const h=(t[u]||[])[a]||"";F({col:u,index:a}),I(h)},$=u=>{I(oe(u))},L=D.useRef(!1),T=(u,a)=>{const o=_(A),h={...t};h[u]||(h[u]=[]),h[u][a]=o,l(h),F(null),I("")},P=(u,a)=>{if(L.current){L.current=!1;return}w&&w.col===u&&w.index===a&&T(u,a)},y=(u,a,o)=>{u.key==="Enter"&&(L.current=!0,T(a,o),a==="b"?f(u,o,C.current,{direction:1,onBoundary:()=>f(u,-1,R.current,{direction:1})}):a==="c"&&f(u,o,R.current,{direction:1}))},p=(u,a)=>{if(w&&w.col===u&&w.index===a)return A;const h=t[u]||[];return E(h[a])},N=(u,a)=>{const o=t[u]||[];return G(o[a],{min:r.min,max:r.max,validateStd:!0})},v=u=>{const a=parseFloat((t.b||[])[u]),o=parseFloat((t.c||[])[u]);return isNaN(a)||isNaN(o)?!0:G(a-o,{min:r.min,max:r.max,validateStd:!0})},k=u=>{const a=parseFloat((t.b||[])[u]),o=parseFloat((t.c||[])[u]);if(isNaN(a)||isNaN(o))return"";const h=a-o;if(h===0)return"0";const g=Math.abs(h).toFixed(2).replace(/\.?0+$/,"");return h>0?`${g}→`:`←${g}`},m=()=>{const u=[];for(let h=0;h<x;h++){if(h===n){u.push(0);continue}if(d){const g=parseFloat((t.b||[])[h]),V=parseFloat((t.c||[])[h]);!isNaN(g)&&!isNaN(V)&&u.push(g-V)}else{const g=parseFloat((t.b||[])[h]);isNaN(g)||u.push(g)}}if(u.length<2)return"";const a=Math.max(...u),o=Math.min(...u);return Math.abs(a-o).toFixed(2).replace(/\.?0+$/,"")},c=()=>G(m(),{maxValue:r.max,validateStd:!0,useAbs:!0}),i=()=>{const u=[];for(let a=0;a<x;a++){const o=a===n,h=o?!0:N("b",a),g=o?!0:N("c",a);o?u.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:j[a]}),e.jsx("td",{className:"border border-black p-1 text-center text-sm bg-gray-50",children:"←0→"}),d&&e.jsx("td",{className:"border border-black p-1 text-center text-sm bg-gray-50",children:"←0→"}),s&&e.jsx("td",{className:"border border-black p-1 text-center text-sm",children:"0"})]},a)):u.push(e.jsxs("tr",{children:[e.jsx("td",{className:"border border-black p-1 text-center font-medium",children:j[a]}),e.jsx("td",{className:`border border-black p-1 ${h?"":"bg-red-200"}`,children:e.jsx("input",{ref:V=>C.current[a]=V,type:"text",inputMode:"numeric",value:p("b",a),onFocus:()=>B("b",a),onChange:V=>$(V.target.value),onBlur:()=>P("b",a),onKeyDown:V=>y(V,"b",a),className:"w-full h-full text-center bg-transparent outline-none text-sm"})}),d&&e.jsx("td",{className:`border border-black p-1 ${g?"":"bg-red-200"}`,children:e.jsx("input",{ref:V=>R.current[a]=V,type:"text",inputMode:"numeric",value:p("c",a),onFocus:()=>B("c",a),onChange:V=>$(V.target.value),onBlur:()=>P("c",a),onKeyDown:V=>y(V,"c",a),className:"w-full h-full text-center bg-transparent outline-none text-sm"})}),s&&e.jsx("td",{className:`border border-black p-1 text-center text-sm ${v(a)?"":"bg-red-200"}`,children:k(a)})]},a))}return u};return e.jsxs("div",{children:[e.jsxs("table",{className:"border-collapse border border-black text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-black p-1 w-10 text-center bg-gray-50"}),e.jsx("th",{className:"border border-black p-1 w-16 text-center",children:"B"}),d&&e.jsx("th",{className:"border border-black p-1 w-16 text-center",children:"C"}),s&&e.jsx("th",{className:"border border-black p-1 w-16 text-center",children:"DIFF"})]})}),e.jsx("tbody",{children:i()})]}),e.jsxs("div",{className:"mt-1 flex items-center text-sm",children:[e.jsx("span",{className:"font-medium mr-2",children:"DATA ROLLING - Y ="}),e.jsx("span",{className:`border-b border-black min-w-16 text-center ${c()?"":"bg-red-200"}`,children:m()})]})]})}function Wr({data:t={left:{a:[],b:[]},right:{a:[],b:[]}},onChange:l=()=>{},rowCount:r=21,stepSize:n=20,maxValue:d=15,maxDiff:s=1,formula:f="A+B"}){const{moveFocus:x}=fe(),j=t?.left||{a:[],b:[]},C=t?.right||{a:[],b:[]},R=[];for(let X=0;X<r;X++)R.push((r-1-X)*n);const w=D.useRef([]),F=D.useRef([]),A=D.useRef([]),I=D.useRef([]),[E,_]=D.useState(null),[B,$]=D.useState(""),L=(X,q,Q,ee)=>{_({table:X,col:q,index:Q}),$(ee||"")},T=X=>{$(oe(X))},P=()=>{if(!E)return;const{table:X,col:q,index:Q}=E,ee={...t,left:{...j},right:{...C}};if(X==="left"){const J={...ee.left};J[q]||(J[q]=[]),J[q][Q]=B,ee.left=J}else{const J={...ee.right};J[q]||(J[q]=[]),J[q][Q]=B,ee.right=J}l(ee),_(null),$("")},y=(X,q,Q,ee)=>{X.key==="Enter"&&(P(),q==="left"?Q==="a"?x(X,ee,w.current,{direction:-1,onBoundary:()=>{const J=F.current[1];J&&J.focus()}}):Q==="b"&&x(X,ee,F.current,{direction:1,onBoundary:()=>{const J=A.current[r-1];J&&J.focus()}}):Q==="b"?x(X,ee,A.current,{direction:-1,onBoundary:()=>{const J=I.current[1];J&&J.focus()}}):Q==="a"&&x(X,ee,I.current,{direction:1}))},p=()=>{P()},N=(X,q,Q)=>{const ee=X==="left"?j:C;return E?.table===X&&E?.col===q&&E?.index===Q?B:ee[q]?.[Q]||""},v=(X,q)=>{const Q=X==="left"?j:C,ee=parseFloat(Q.a?.[q]),J=parseFloat(Q.b?.[q]);return isNaN(ee)||isNaN(J)?"":Math.abs(ee-J).toFixed(3).replace(/\.?0+$/,"")},k=X=>{const q=parseFloat(j.a?.[X]),Q=parseFloat(C.b?.[X]);return isNaN(q)||isNaN(Q)?"":(f==="A+B"?q+Q:q-Q).toFixed(3).replace(/\.?0+$/,"")},m=()=>{const X=(j.a||[]).slice(0,r).map(q=>parseFloat(q)).filter(q=>!isNaN(q));return X.length===0?"":Math.max(...X).toFixed(3).replace(/\.?0+$/,"")},c=()=>{const X=(C.b||[]).slice(0,r).map(q=>parseFloat(q)).filter(q=>!isNaN(q));return X.length===0?"":Math.max(...X).toFixed(3).replace(/\.?0+$/,"")},i=()=>{const X=[];for(let q=0;q<r;q++){const Q=parseFloat(j.a?.[q]),ee=parseFloat(C.b?.[q]);if(!isNaN(Q)&&!isNaN(ee)){const J=f==="A+B"?Q+ee:Q-ee;X.push(J)}}return X.length===0?"":Math.max(...X).toFixed(3).replace(/\.?0+$/,"")},u=(X,q,Q)=>!G((X==="left"?j:C)[q]?.[Q],{maxValue:d,validateStd:!0}),a=(X,q)=>!G(v(X,q),{maxDiff:s,validateStd:!0}),o=()=>!G(m(),{maxValue:d,validateStd:!0}),h=()=>!G(c(),{maxValue:d,validateStd:!0}),g=()=>!G(i(),{maxValue:d,validateStd:!0}),V={borderCollapse:"collapse",fontSize:"8px",fontFamily:"Arial, sans-serif"},O={border:"1px solid black",padding:"1mm 2mm",textAlign:"center",fontWeight:"normal",backgroundColor:"white"},z={...O,backgroundColor:"#e0e0e0"},ce={border:"1px solid black",padding:"1mm 2mm",textAlign:"center",height:"4mm",minWidth:"6mm"},Ke={width:"100%",height:"100%",border:"none",textAlign:"center",fontSize:"10px",padding:0,margin:0,background:"transparent",outline:"none"},ve={backgroundColor:"#ffcccc",color:"red"},ge={backgroundColor:"#f2f2f2"},Ve=(X,q,Q,ee)=>{const J=u(X,q,Q);return e.jsx("td",{style:{...ce,padding:0,...ge,...J?ve:{}},children:e.jsx("input",{ref:Se=>ee.current[Q]=Se,type:"text",style:{...Ke,...J?{color:"red"}:{}},value:N(X,q,Q),onFocus:()=>L(X,q,Q,(X==="left"?j:C)[q]?.[Q]),onChange:Se=>T(Se.target.value),onKeyDown:Se=>y(Se,X,q,Q),onBlur:p})})};return e.jsx("div",{className:"inline-block",children:e.jsxs("table",{style:V,children:[e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{style:{...O,border:"none"}}),e.jsx("th",{colSpan:3,style:z,children:"Left"}),e.jsx("th",{colSpan:4,style:z,children:"Right"})]}),e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,style:{...O,width:"8mm"},children:"mm"}),e.jsx("th",{colSpan:3,style:O,children:"Z1L"}),e.jsx("th",{colSpan:3,style:O,children:"Z1R"}),e.jsx("th",{rowSpan:2,style:O,children:f})]}),e.jsxs("tr",{children:[e.jsx("th",{style:{...O,width:"8mm"},children:"A"}),e.jsx("th",{style:{...O,width:"8mm"}}),e.jsx("th",{style:{...O,width:"8mm"}}),e.jsx("th",{style:{...O,width:"8mm"},children:"B"}),e.jsx("th",{style:{...O,width:"8mm"}}),e.jsx("th",{style:{...O,width:"8mm"}})]})]}),e.jsx("tbody",{children:R.map((X,q)=>e.jsxs("tr",{children:[e.jsx("td",{style:ce,children:X}),Ve("left","a",q,w),Ve("left","b",q,F),e.jsx("td",{style:{...ce,...a("left",q)?ve:{}},children:v("left",q)}),Ve("right","b",q,A),Ve("right","a",q,I),e.jsx("td",{style:{...ce,...a("right",q)?ve:{}},children:v("right",q)}),e.jsx("td",{style:{...ce,...ge},children:k(q)})]},q))}),e.jsx("tfoot",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{...ce,...ge,fontWeight:"bold"},children:"MAX"}),e.jsx("td",{style:{...ce,...ge,fontWeight:"bold",...o()?ve:{}},children:m()}),e.jsx("td",{style:{...ce,...ge}}),e.jsx("td",{style:{...ce,...ge}}),e.jsx("td",{style:{...ce,...ge,fontWeight:"bold",...h()?ve:{}},children:c()}),e.jsx("td",{style:{...ce,...ge}}),e.jsx("td",{style:{...ce,...ge}}),e.jsx("td",{style:{...ce,...ge,fontWeight:"bold",...g()?ve:{}},children:i()})]})})]})})}function Ur({label:t="",value:l="",onChange:r=()=>{}}){const n=["A","B","C","D","E"],d=s=>{r(l===s?"":s)};return e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx("span",{className:"min-w-[40px] font-medium",children:t}),e.jsx("div",{className:"flex gap-1",children:n.map(s=>e.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:l===s,onChange:()=>d(s),className:"w-4 h-4 cursor-pointer accent-blue-600"}),e.jsx("span",{className:l===s?"font-bold text-blue-600":"",children:s})]},s))})]})}function fr({data:t={a:[],b:[]},onChange:l=()=>{},axisLabel:r="X1",rowCount:n=16,stepSize:d=20,maxAB:s=15,maxDiff:f=1,showCalcCol:x=!0}){const{moveFocus:j}=fe(),C=[];for(let g=0;g<n;g++)C.push((n-1-g)*d);const R=n,w=D.useRef([]),F=D.useRef([]),[A,I]=D.useState(null),[E,_]=D.useState(""),B=(g,V,O)=>{I({col:g,index:V}),_(O||"")},$=g=>{_(oe(g))},L=()=>{if(!A)return;const{col:g,index:V}=A,O={...t};O[g]||(O[g]=[]),O[g][V]=E,l(O),I(null),_("")},T=(g,V,O)=>{g.key==="Enter"&&(L(),V==="a"?j(g,O,w.current,{direction:-1,onBoundary:()=>{const z=F.current[1];z&&z.focus()}}):V==="b"&&j(g,O,F.current,{direction:1,onBoundary:()=>{const z=F.current[R];z&&z.focus()}}))},P=()=>{L()},y=(g,V)=>A?.col===g&&A?.index===V?E:t[g]?.[V]||"",p=g=>{const V=parseFloat(t.a?.[g]),O=parseFloat(t.a?.[g+1]);return isNaN(V)||isNaN(O)?"":((V-O)*5).toFixed(3).replace(/\.?0+$/,"")},N=g=>{const V=parseFloat(t.a?.[g]),O=parseFloat(t.b?.[g]);return isNaN(V)||isNaN(O)?"":Math.abs(V-O).toFixed(3).replace(/\.?0+$/,"")},v=(g,V)=>!G(t[g]?.[V],{maxValue:s,validateStd:!0}),k=g=>{const V=parseFloat(t.a?.[g]),O=parseFloat(t.b?.[g]);if(isNaN(V)||isNaN(O))return!1;const z=Math.abs(V-O);return!G(z,{maxDiff:f,validateStd:!0})},m=()=>{const g=(t.a||[]).slice(0,n).map(V=>parseFloat(V)).filter(V=>!isNaN(V));return g.length===0?"":Math.max(...g).toFixed(3).replace(/\.?0+$/,"")},c=()=>{const g=[];for(let V=0;V<n;V++){const O=parseFloat(t.a?.[V]),z=parseFloat(t.b?.[V]);!isNaN(O)&&!isNaN(z)&&g.push(Math.abs(O-z))}return g.length===0?"":Math.max(...g).toFixed(3).replace(/\.?0+$/,"")},i={borderCollapse:"collapse",fontSize:"8px",fontFamily:"Arial, sans-serif"},u={border:"1px solid black",padding:"2px 4px",textAlign:"center",fontWeight:"normal",backgroundColor:"white"},a={border:"1px solid black",padding:"2px 4px",textAlign:"center",height:"14px",minWidth:"24px"},o={width:"100%",height:"100%",border:"none",textAlign:"center",fontSize:"8px",padding:0,margin:0,background:"transparent",outline:"none"},h={backgroundColor:"#ffcccc",color:"red"};return e.jsx("div",{style:{display:"inline-block"},children:e.jsxs("table",{style:i,children:[e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,style:{...u,width:"30px"},children:"mm"}),e.jsx("th",{rowSpan:2,style:{...u,width:"24px"}}),e.jsx("th",{colSpan:3,style:u,children:r})]}),e.jsxs("tr",{children:[e.jsx("th",{style:{...u,width:"24px"},children:"A"}),e.jsx("th",{style:{...u,width:"24px"},children:"B"}),e.jsx("th",{style:{...u,width:"30px"},children:"A-B"})]})]}),e.jsxs("tbody",{children:[C.map((g,V)=>e.jsxs("tr",{children:[e.jsx("td",{style:a,children:g}),e.jsx("td",{style:a,children:x?p(V):""}),e.jsx("td",{style:{...a,padding:0,...v("a",V)?h:{}},children:e.jsx("input",{ref:O=>w.current[V]=O,type:"text",style:{...o,...v("a",V)?{color:"red"}:{}},value:y("a",V),onFocus:()=>B("a",V,t.a?.[V]),onChange:O=>$(O.target.value),onKeyDown:O=>T(O,"a",V),onBlur:P})}),e.jsx("td",{style:{...a,padding:0,...v("b",V)?h:{}},children:e.jsx("input",{ref:O=>F.current[V]=O,type:"text",style:{...o,...v("b",V)?{color:"red"}:{}},value:y("b",V),onFocus:()=>B("b",V,t.b?.[V]),onChange:O=>$(O.target.value),onKeyDown:O=>T(O,"b",V),onBlur:P})}),e.jsx("td",{style:{...a,...k(V)?h:{}},children:N(V)})]},V)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,style:{...a,textAlign:"left",paddingLeft:"4px"},children:"RETURN"}),e.jsx("td",{style:{...a,padding:0},children:e.jsx("input",{ref:g=>F.current[R]=g,type:"text",style:o,value:y("b",R),onFocus:()=>B("b",R,t.b?.[R]),onChange:g=>$(g.target.value),onKeyDown:g=>T(g,"b",R),onBlur:P})}),e.jsx("td",{style:a})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,style:{...a,textAlign:"left",paddingLeft:"4px",fontWeight:"bold"},children:"POSITION MAX"}),e.jsx("td",{colSpan:2,style:a,children:m()})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,style:{...a,textAlign:"left",paddingLeft:"4px",fontWeight:"bold"},children:"LOST MOTION"}),e.jsx("td",{colSpan:2,style:a,children:c()})]})]})]})})}function Hr({data:t=[{a:[],b:[]},{a:[],b:[]},{a:[],b:[]},{a:[],b:[]}],onChange:l=()=>{},rowCount:r=16,stepSize:n=20,maxAB:d=15,maxDiff:s=1,showCalcCol:f=!0,tableLabels:x=["Y1","Y2","Y3","Y4"]}){const[j,C]=D.useState(null),R=(_,B)=>{const $=[...t];$[_]=B,l($),C(_)},w=()=>{if(j===null)return"";const B=(t[j].a||[]).slice(0,r).map($=>parseFloat($)).filter($=>!isNaN($));return B.length===0?"":Math.max(...B).toFixed(3).replace(/\.?0+$/,"")},F=()=>{if(j===null)return"";const _=t[j],B=[];for(let $=0;$<r;$++){const L=parseFloat(_.a?.[$]),T=parseFloat(_.b?.[$]);!isNaN(L)&&!isNaN(T)&&B.push(Math.abs(L-T))}return B.length===0?"":Math.max(...B).toFixed(3).replace(/\.?0+$/,"")},A=()=>!G(w(),{maxValue:d,validateStd:!0}),I=()=>!G(F(),{maxValue:s,validateStd:!0}),E={backgroundColor:"#ffcccc",color:"red"};return e.jsxs("div",{className:"inline-block text-xs font-sans",children:[e.jsx("table",{className:"border-collapse border border-black mb-1",style:{width:"100%"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{rowSpan:2,className:"border border-black font-bold text-center align-middle",style:{padding:"1mm 2mm",width:"8mm"},children:"STD"}),e.jsxs("td",{className:"border border-black",style:{padding:"1mm 2mm",width:"50%"},children:["MAX ",d," µm"]}),e.jsx("td",{className:"border-b",style:{padding:"1mm 2mm"},children:"DATA ="}),e.jsx("td",{className:"border-b text-center",style:{padding:"1mm 2mm",minWidth:"10mm",...A()?E:{}},children:w()}),e.jsx("td",{className:"border-b",style:{padding:"1mm 2mm"},children:"µm"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"border border-black",style:{padding:"1mm 2mm",width:"50%"},children:["BACK LASH ",s," µm"]}),e.jsx("td",{className:"border-b",style:{padding:"1mm 2mm"},children:"DATA ="}),e.jsx("td",{className:"text-center",style:{padding:"1mm 2mm",minWidth:"10mm",...I()?E:{}},children:F()}),e.jsx("td",{className:"border-b",style:{padding:"1mm 2mm"},children:"µm"})]})]})}),e.jsx("div",{className:"flex",style:{gap:"1mm"},children:[0,1,2,3].map(_=>e.jsx(fr,{data:t[_],onChange:B=>R(_,B),axisLabel:x[_],rowCount:r,stepSize:n,maxAB:d,maxDiff:s,showCalcCol:f},_))})]})}function qr({rows:t=[],onChange:l=()=>{}}){const{user:r,logout:n}=Pe(),{handleSave:d}=lt(),[s,f]=D.useState({isOpen:!1,rowNo:null,type:null}),x=(E,_,B)=>{const $=t.map(L=>L.no===E?{...L,[_]:B}:L);l($)},j=(E,_)=>{r&&f({isOpen:!0,rowNo:E,type:_})},C=()=>{if(r&&s.rowNo&&s.type){const{rowNo:E,type:_}=s,B=new Date,$=B.getFullYear(),L=String(B.getMonth()+1).padStart(2,"0"),P=`${String(B.getDate()).padStart(2,"0")}/${L}/${$}`;if(_==="action"){const y=t.map(p=>p.no===E?{...p,actionBy:r.username,actionDate:P}:p);l(y)}else if(_==="double"){const y=t.map(p=>p.no===E?{...p,doubleBy:r.username,doubleDate:P}:p);l(y)}}f({isOpen:!1,rowNo:null,type:null})},R=async()=>{f({isOpen:!1,rowNo:null,type:null});try{await d()}catch(E){console.error("Save failed before logout",E)}finally{n()}},w={width:"100%",borderCollapse:"collapse",fontSize:"10px",fontFamily:"Arial, sans-serif",border:"2px solid black"},F={border:"1.5px solid black",padding:"2mm 1mm",textAlign:"center",fontWeight:"bold",textTransform:"uppercase"},A={border:"1px solid black",padding:"1mm",textAlign:"center",verticalAlign:"middle",height:"8mm"},I={width:"100%",height:"100%",border:"none",textAlign:"center",fontSize:"10px",background:"transparent",outline:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:r?"pointer":"default"};return e.jsxs(e.Fragment,{children:[e.jsxs("table",{style:w,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{...F,width:"35px"},children:"NO."}),e.jsx("th",{style:{...F,width:"120px"},children:"PART NAME"}),e.jsx("th",{style:{...F,width:"150px"},children:"POINT CHECK"}),e.jsx("th",{style:{...F,width:"40px"},children:"QTY."}),e.jsxs("th",{style:{...F,width:"70px"},children:["TORQUE",e.jsx("br",{}),e.jsx("span",{className:"text-[8px]",children:"(Kgf.cm)"})]}),e.jsx("th",{style:{...F,width:"150px"},children:"ACTION BY / DATE"}),e.jsx("th",{style:{...F,width:"150px"},children:"DOUBLE CHECK BY / DATE"})]})}),e.jsx("tbody",{children:t&&t.length>0&&t.map(E=>{const _=E.points?.length||1;return(E.points||[{check:"",qty:"",torque:""}]).map((B,$)=>e.jsxs("tr",{children:[$===0&&e.jsxs(e.Fragment,{children:[e.jsx("td",{rowSpan:_,style:A,children:E.no}),e.jsx("td",{rowSpan:_,style:{...A,textAlign:"left",paddingLeft:"2mm"},children:E.partName})]}),e.jsx("td",{style:{...A,textAlign:"left",paddingLeft:"2mm",fontSize:(B.check?.length||0)>15?"8px":"10px"},children:B.check}),e.jsx("td",{style:A,children:B.qty}),e.jsx("td",{style:A,children:B.torque}),$===0&&e.jsxs(e.Fragment,{children:[e.jsx("td",{rowSpan:_,style:{...A,padding:0},children:e.jsxs("div",{className:"flex flex-col h-full divide-y divide-black",children:[e.jsx("input",{type:"text",style:I,value:E.actionBy||"",readOnly:!0,onClick:()=>j(E.no,"action"),placeholder:r?"Click to Sign":"",className:r?"hover:bg-gray-100":""}),e.jsx(Ze,{style:{...I,fontSize:"8px"},value:E.actionDate||"",onChange:L=>x(E.no,"actionDate",L)})]})}),e.jsx("td",{rowSpan:_,style:{...A,padding:0},children:e.jsxs("div",{className:"flex flex-col h-full divide-y divide-black",children:[e.jsx("input",{type:"text",style:I,value:E.doubleBy||"",readOnly:!0,onClick:()=>j(E.no,"double"),placeholder:r?"Click to Sign":"",className:r?"hover:bg-gray-100":""}),e.jsx(Ze,{style:{...I,fontSize:"8px"},value:E.doubleDate||"",onChange:L=>x(E.no,"doubleDate",L)})]})})]})]},`${E.no}-${$}`))})})]}),e.jsx(at,{isOpen:s.isOpen,onClose:()=>f({...s,isOpen:!1}),onConfirm:C,onDeny:R,user:r})]})}function Yr({title:t="MAGNET PLATE SPEC",config:l=[],data:r={},onChange:n=()=>{}}){const d=(f,x,j,C)=>{const R={...r};for(R[f]||(R[f]=[]);R[f].length<=x;)R[f].push({checked:!1,sn:""});R[f][x]={...R[f][x],[j]:C},n(R)},s=(f,x,j)=>r[f]?.[x]?.[j]||(j==="checked"?!1:"");return e.jsxs("table",{className:"w-full border-collapse text-[11px] font-sans border-2 border-black mb-4 print:mb-2",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white",children:[e.jsx("th",{className:"border-[1.5px] border-black p-1.5 text-center font-bold uppercase w-[12%]",children:"AXIS"}),e.jsx("th",{className:"border-[1.5px] border-black p-1.5 text-center font-bold uppercase w-[8%] text-xs",children:"x"}),e.jsx("th",{className:"border-[1.5px] border-black p-1.5 text-center font-bold uppercase w-[15%] min-w-[60px]",children:"ITEM"}),e.jsx("th",{className:"border-[1.5px] border-black p-1.5 text-center font-bold uppercase w-[40%]",children:t}),e.jsx("th",{className:"border-[1.5px] border-black p-1.5 text-center font-bold uppercase w-[25%]",children:"S/N"})]})}),e.jsx("tbody",{children:l.map(f=>{const x=f.specs||[],j=x.length;return x.map((C,R)=>e.jsxs("tr",{className:"h-8",children:[R===0&&e.jsx("td",{rowSpan:j,className:"border border-black p-0.5 text-center align-middle font-bold text-[12px] bg-white",children:f.axis}),e.jsx("td",{className:"border border-black text-center align-middle",children:e.jsx("div",{className:"w-[4.5mm] h-[4.5mm] border border-black flex items-center justify-center cursor-pointer m-auto text-[10px] font-bold bg-white",onClick:()=>d(f.axis,R,"checked",!s(f.axis,R,"checked")),children:s(f.axis,R,"checked")?"X":""})}),e.jsx("td",{className:"border border-black  text-center align-middle"}),e.jsx("td",{className:"border border-black text-center align-middle font-medium px-2",children:C}),e.jsx("td",{className:"border border-black text-center align-middle",children:e.jsx("input",{type:"text",className:"w-full h-full border-none text-center text-[11px] bg-transparent outline-none p-1",value:s(f.axis,R,"sn"),onChange:w=>d(f.axis,R,"sn",w.target.value)})})]},`${f.axis}-${R}`))})})]})}function Gr({backgroundImage:t="",width:l="100%",height:r="auto",points:n=[],onChange:d=()=>{},aspectRatio:s=null}){const f=(j,C)=>{d(j,C)},x=j=>{switch(j){case"left":return{right:"100%",marginRight:"1mm",whiteSpace:"pre"};case"top":return{bottom:"100%",marginBottom:"1mm",whiteSpace:"pre"};case"bottom":return{top:"100%",marginTop:"1mm",whiteSpace:"pre"};default:return{left:"100%",marginLeft:"1mm",whiteSpace:"pre"}}};return e.jsx("div",{className:"relative bg-white",style:{width:l,height:r,aspectRatio:s||"auto",backgroundImage:t?`url(${t})`:"none",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:n.map(j=>e.jsx("div",{className:"absolute flex items-center",style:{left:typeof j.x=="number"?`${j.x}%`:j.x,top:typeof j.y=="number"?`${j.y}%`:j.y,transform:"translate(-50%, -50%)"},children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"checkbox",checked:j.checked||!1,onChange:C=>f(j.id,C.target.checked),className:"cursor-pointer",style:{width:"5mm",height:"5mm"}}),j.label&&e.jsx("span",{className:"absolute text-xs",style:{fontSize:"12px",...x(j.textPosition||"right")},children:j.label})]})},j.id))})}function Xr({children:t}){return e.jsxs("div",{className:"min-h-screen py-8 px-4 flex justify-center overflow-auto print:p-0 print:bg-white print:overflow-visible print:block print:min-h-0",children:[e.jsx("style",{children:`
                @media print {
                    @page {
                        size: A4;
                        margin: 0;
                    }
                    body {
                        margin: 0;
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                }
            `}),e.jsx("div",{className:"bg-white shadow-2xl border border-gray-300 relative shrink-0 print:shadow-none print:border-none print:m-0 print:w-full print:h-full",style:{width:"210mm",height:"297mm",breakAfter:"page",pageBreakAfter:"always"},children:t})]})}function zr({onSave:t,onPrint:l,isSaving:r}){const{user:n}=Pe();if(!n)return null;const d=n.role==="worker";return e.jsxs("div",{className:"w-full bg-gray-800 text-white px-4 py-2 flex justify-between items-center shadow-md print:hidden sticky top-0 z-50",children:[e.jsxs("div",{className:"flex space-x-6 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 mr-2",children:"ผู้ใช้งาน"}),e.jsx("span",{className:"font-semibold",children:n.code||"-"}),e.jsx("span",{className:"text-gray-400 mr-2 ml-2",children:" : "}),e.jsx("span",{className:"font-semibold",children:n.username||"-"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 mr-2",children:"ตำแหน่ง:"}),e.jsx("span",{className:`font-semibold px-2 py-0.5 rounded ${d?"bg-yellow-600":"bg-blue-600"}`,children:n.role||"-"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:t,disabled:r,className:`flex items-center px-4 py-1.5 rounded transition-colors ${r?"bg-gray-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"💾"})," Save DB"]})}),!d&&e.jsxs("button",{onClick:l,className:"flex items-center px-4 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:[e.jsx("span",{className:"mr-2",children:"🖨️"})," Print PDF"]})]})]})}function Zr({currentPage:t,totalPages:l,onPageChange:r,pageComponents:n=[]}){const[d,s]=D.useState(!0),[f,x]=D.useState(1),j=D.useRef(window.devicePixelRatio),C=D.useRef(null);D.useEffect(()=>{const w=()=>{const A=window.devicePixelRatio/j.current;x(A)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),D.useEffect(()=>{const w=F=>{C.current&&!C.current.contains(F.target)&&d&&s(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[d]);const R=1/f;return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
                .pagination-scroll::-webkit-scrollbar {
                    display: none;
                }
                .pagination-scroll {
                    scrollbar-width: none;
                    -ms-overflow-style: none;
                }
                
                /* Override A4Paper styles in thumbnails */
                /* Outer Wrapper (Gray Bg) -> Make Transparent */
                .pagination-thumbnail > div {
                    min-height: 0 !important;
                    background-color: transparent !important;
                    padding: 0 !important;
                    display: block !important;
                    width: auto !important;
                    height: auto !important;
                    overflow: visible !important;
                    border: none !important;
                }
                
                /* Inner Paper (White Bg) -> Keep White */
                .pagination-thumbnail > div > div {
                    background-color: white !important;
                    box-shadow: none !important;
                    border: 1px solid #e5e7eb !important; /* Light border for paper definition */
                    margin: 0 !important;
                }
            `}),e.jsxs("div",{ref:C,style:{position:"fixed",right:0,top:"50%",transform:`translateY(-50%) scale(${R})`,transformOrigin:"right center",zIndex:9999,height:"auto",maxHeight:"90vh",display:"flex",flexDirection:"row",alignItems:"center"},children:[e.jsx("button",{onClick:()=>s(!d),style:{padding:"12px 4px",background:"#9ca3af",border:"1px solid #d1d5db",borderRight:"none",borderRadius:"8px 0 0 8px",color:"white",cursor:"pointer",fontSize:"16px",fontWeight:"bold",boxShadow:"-4px 0 10px rgba(0,0,0,0.1)"},title:d?"ย่อ":"ขยาย",children:e.jsx("span",{style:{display:"inline-block",transform:d?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"},children:"◀"})}),e.jsx("div",{style:{background:"#9ca3af",border:"1px solid #d1d5db",borderLeft:"none",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",overflow:"hidden",width:d?"160px":"60px",transition:"width 0.3s ease-out",display:"flex",flexDirection:"column"},children:e.jsx("div",{style:{padding:"8px",flex:1,display:"flex",flexDirection:"column",height:"100%"},children:e.jsx("div",{className:"pagination-scroll",style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"80vh",overflowY:"auto",overflowX:"hidden",alignItems:"center"},children:Array.from({length:l},(w,F)=>F+1).map(w=>e.jsx("div",{onClick:()=>r(w),style:{cursor:"pointer",transition:"all 0.2s",opacity:1,transform:t===w?"scale(1.05)":"scale(1)"},children:d?e.jsxs("div",{style:{width:"120px",height:"170px",background:"white",borderRadius:"4px",overflow:"hidden",position:"relative",border:t===w?"3px solid #3b82f6":"1px solid #6b7280"},children:[e.jsx("div",{className:"pagination-thumbnail",style:{transform:"scale(0.15)",transformOrigin:"top left",width:"210mm",height:"297mm",pointerEvents:"none"},children:n[w-1]}),e.jsx("div",{style:{position:"absolute",inset:0,zIndex:10}}),e.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"rgba(0,0,0,0.6)",color:"white",padding:"2px 6px",fontSize:"10px",borderTopLeftRadius:"4px"},children:w})]}):e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",background:t===w?"#2563eb":"rgba(255, 255, 255, 0.5)",color:t===w?"white":"#374151",border:t===w?"none":"1px solid #9ca3af"},children:w})},w))})})})]})]})}const Qr=async({apiEndpoint:t,formId:l,meta:r,formData:n})=>{const d={id:l,department:r.department,model:r.model,as_group:r.as_group,checksheet_name:r.checksheet_name,machine_no:n.machine_no||"UNKNOWN",checksheet_data:n};try{const f=(await kt.post(`${t}/api/save-form`,d,{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;if(f.success)return{success:!0,message:"บันทึกข้อมูลเรียบร้อยแล้ว!"};throw new Error(f.error||"Save failed")}catch(s){console.error("Error saving form:",s);const f=s.response?.data?.error||s.message||"เกิดข้อผิดพลาดในการบันทึก";throw new Error(f)}},Jr=async({apiEndpoint:t,searchParams:l,meta:r})=>{const n=new URLSearchParams(l),d=n.get("id"),s=n.get("machine_no");let f=null;if(d)f=`${t}/api/load-form/${d}`;else if(s)f=`${t}/api/load-form-by-machine?machine_no=${s}&checksheet_name=${r.checksheet_name}`;else return null;try{const j=(await kt.get(f,{withCredentials:!0})).data;if(j.success&&j.data)return j.data}catch(x){throw console.error("Error loading form data:",x),x}return null};export{or as A,Xr as B,jr as C,gr as D,kr as E,br as F,yr as G,Zr as H,Rr as I,Jr as J,Qr as K,Nr as L,zr as P,Mr as S,wr as T,pr as a,vr as b,Te as c,Vr as d,Sr as e,Cr as f,Fr as g,Ar as h,Dr as i,Er as j,$r as k,Br as l,Ir as m,_r as n,Tr as o,Pr as p,Or as q,Lr as r,Kr as s,Ur as t,Le as u,Wr as v,Hr as w,qr as x,Yr as y,Gr as z};
